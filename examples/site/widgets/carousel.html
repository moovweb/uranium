---
layout: widgets
title: Carousel
name: carousel
widget_selected: selected
---
<script>
var carouselHtml;
x$(document).on("DOMContentLoaded", function() {
  carouselHtml = x$("#carousel_widget")[0].innerHTML;
});

describe("A plain carousel", function() {
  beforeEach(function() {
    x$("#carousel_widget").html(carouselHtml);
    Ur.setup("#carousel_widget");
  });
  it("slides to the right by 1 item", function() {
    runs(function() {
      Syn.drag("-100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='3.png']"));
    });
    waitsFor(function() {
      return !Ur.Widgets.carousel.MyFirstCarousel.flag.increment && /\(-250/.test(x$("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='scroll_container']").attr("style")[0]);
    }, "carousel scroll right", 1000);
    runs(function() {
      expect(Ur.Widgets.carousel.MyFirstCarousel.itemIndex).toBe(1);
    });
  });
  it("slides to the right by 1 item and then left by 1 item", function() {
    var dragged = false;
    runs(function() {
      Syn.drag("-100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='3.png']"));
      setTimeout(function() {
        Syn.drag("+50 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='3.png']"), function() {dragged = true;});
      }, 1200);
    });
    waitsFor(function() {
      return dragged && !Ur.Widgets.carousel.MyFirstCarousel.flag.increment && /\(0/.test(x$("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='scroll_container']").attr("style")[0]);
    }, "carousel scroll left", 2000);
    runs(function() {
      expect(Ur.Widgets.carousel.MyFirstCarousel.itemIndex).toBe(0);
    });
  });
  it("slides back if it slid to the left when already at the very left", function() {
    var dragged = false;
    runs(function() {
      Syn.drag("+50 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='3.png']"), function() {dragged = true;});
    });
    waitsFor(function() {
      return dragged && !Ur.Widgets.carousel.MyFirstCarousel.flag.increment && /\(0/.test(x$("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='scroll_container']").attr("style")[0]);
    }, "carousel scroll right", 1000);
    runs(function() {
      expect(Ur.Widgets.carousel.MyFirstCarousel.itemIndex).toBe(0);
    });
  });
  it("slides to the very right", function() {
    runs(function() {
      Syn.drag("-100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='2.png']"));
      setTimeout(function() {
        Syn.drag("-100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='3.png']"));
      }, 1200);
      setTimeout(function() {
        Syn.drag("-100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='4.png']"));
      }, 2400);
      setTimeout(function() {
        Syn.drag("-100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='5.png']"));
      }, 3600);
    });
    waitsFor(function() {
      return !Ur.Widgets.carousel.MyFirstCarousel.flag.increment && /\(-1000/.test(x$("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='scroll_container']").attr("style")[0]);
    }, "carousel scroll", 7000);
    runs(function() {
      expect(Ur.Widgets.carousel.MyFirstCarousel.itemIndex).toBe(4);
    });
  });
});

describe("An infinite carousel", function() {
  beforeEach(function() {
    x$("#carousel_widget").html(carouselHtml).find("[data-ur-carousel-component='view_container']").attr("data-ur-infinite", "enabled").attr("data-ur-clones", "3");
    Ur.setup("#carousel_widget");
  });
  it("slides to the left by 1 item", function() {
    var dragged = false;
    runs(function() {
      Syn.drag("+100 +0", $("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='item'][src$='3.png']"), function() {dragged = true;});
    });
    waitsFor(function() {
      return dragged && !Ur.Widgets.carousel.MyFirstCarousel.flag.increment && /\(-1750/.test(x$("[data-ur-id='MyFirstCarousel'] [data-ur-carousel-component='scroll_container']").attr("style")[0]);
    }, "carousel scroll left", 1000);
    runs(function() {
      expect(Ur.Widgets.carousel.MyFirstCarousel.itemIndex).toBe(7);
    });
  });
});
</script>
<div data-ur-set="tabs">
  <div id="adv_btn" data-ur-tabs-component="button" data-ur-tab-id="advancedpage" data-ur-state="disabled">Advanced</div>

  <div id="basic_btn" data-ur-tabs-component="button" data-ur-tab-id="basicpage" data-ur-state="enabled">Basic</div>

  <div class="wrapper">
    <h1> Carousels </h1>
  </div>
  <div class="description_wrapper">
    <h2> Description </h2>

    <div class="description">
      <p>
        The carousel is a widget that allows horizontal scrolling (with touch or buttons) between a set of items.
      </p>
      <p>
        The CSS we need to use here is pretty picky, so make sure to check out the CSS tab below.
      </p>
      <p>
        The compatibility of this with FireFox is adequate (vertical-scroll: enabled is not supported however). Check out our
        <a href="{{site.url}}../compatibility.html">compatibility tables</a> to see which devices
        and browsers will display the carousel.
      </p>
    </div>
  </div>

  <div class="wrapper">
    <h2> Attributes </h2>
    <div class="attributes">

      <div class="basic_tab"  data-ur-tabs-component="content" data-ur-tab-id="basicpage" data-ur-state="enabled">
        <ul>
          <li><span class="inline_code">data-ur-set="carousel"</span> - add this attribute to a div that wraps the whole widget</li>
          <li><span class="inline_code">data-ur-carousel-component="view_container"</span> - for wrapping the whole view container</li>
          <li><span class="inline_code">data-ur-carousel-component="scroll_container"</span> - for wrapping the whole scrolling container</li>
          <li><span class="inline_code">data-ur-carousel-component="item"</span> - wrap each scrollable item in this</li>
          <li><span class="inline_code">data-ur-carousel-component="button"</span> - for the previous and next buttons</li>
          <li><span class="inline_code">data-ur-carousel-button-type="prev"/"next"</span> - to distinguish the previous and next buttons</li>
        </ul>
      </div><!-- basic -->
      <div class="advanced_tab" data-ur-tabs-component="content" data-ur-tab-id="advancedpage">
        <h3> data-ur-set= </h3>
        <div class="set_name inline_code">"carousel"</div>
        <br />
        <h3> data-ur-carousel-component= </h3>
        <div class="components">
          <h4> Required </h4>
          <div>
            <ul>
              <li>
                <div class="inline_code">"view_container"</div>
                <ul>
                  <li>this div should wrap the whole carousel; it must be set to no overflow. It or the scroll_container needs <span class="inline_code">position:relative</span>.</li>
                  <li>multiple?: false</li>
                  <li>state: N/A</li>
                  <li>attributes
                    <ul>
                      <li>optional: <span class="inline_code">data-ur-touch</span>: enabled/disabled</li>
                      <li>optional: <span class="inline_code">data-ur-vertical-scroll</span>: enabled/disabled (specify vertical scrolling behavior while touching carousel)</li>
                      <li>optional: <span class="inline_code">data-ur-maps</span>: enabled/disabled (allow images using maps in carousel)</li>
                      <li>optional: <span class="inline_code">data-ur-infinite</span>: enabled/disabled (specify front to back wrapping behavior)</li>
                      <li>optional: <span class="inline_code">data-ur-autoscroll</span>: enabled/disabled (automatically scroll with interval)</li>
                      <li>optional: <span class="inline_code">data-ur-autoscroll-delay</span>: integer (autoscroll delay in seconds)</li>
                      <li>optional: <span class="inline_code">data-ur-autoscroll-dir</span>: next/prev (specify autoscroll direction)</li>
                      <li>optional: <span class="inline_code">data-ur-android3d</span>: enabled/disabled (specify translate3d use on Android 1.6-2.3)</li>
                      <li>optional: <span class="inline_code">data-ur-fill (&beta;)</span>: integer (force n carousel items to fit in container width)</li>
                      <li>optional: <span class="inline_code">data-ur-center (&beta;)</span>: enabled/disabled (horizontally align current item)</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li>
                <div class="inline_code">"scroll_container"</div>
                <ul>
                  <li>this div should wrap the scrolling items on the carousel. It or the view_container needs <span class="inline_code">position:relative</span>.</li>
                  <li>multiple?: false</li>
                  <li>state: N/A</li>
                </ul>
              </li>
              <li>
                <div class="inline_code">"item"</div>
                <ul>
                  <li>this attribute is for each item that needs to be displayed in the carousel</li>
                  <li>multiple?: true</li>
                  <li>state: active / inactive (reflects currently visible item)</li>
                  <li>must have <span class="inline_code">float:left</span> and <span class="inline_code">display:inline</span> styles</li>
                </ul>
              </li>
            </ul>
          </div>
          <h4> Optional </h4>
          <div>
            <ul>
              <li>
                <div class="inline_code">"button"</div>
                <ul>
                  <li>indicates the previous and next buttons</li>
                  <li>multiple?: true</li>
                  <li>state: enabled / disabled ('next' defaults to enabled / 'prev' defaults to 'disabled')</li>
                  <li>attributes
                    <ul>
                      <li>required: <span class="inline_code">data-ur-carousel-button-type:"next"/"prev"</span> for the next and previous buttons, respectively</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li>
                <div class="inline_code">"count"</div>
                <ul>
                  <li>gives an indicator of the position of the carousel, in the form "1 of 8", etc.</li>
                  <li>multiple?: false</li>
                  <li>state: N/A</li>
                </ul>
              </li>
              <li>
                <div class="inline_code">"dots"</div>
                <ul>
                  <li>gives a container that changes <span class="inline_code">data-ur-state</span> on the corresponding child</li>
                  <li>multiple?: false</li>
                  <li>state: N/A</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        <h3>Instance</h3>
        <div class="instance">Access the widget via: <span class="inline_code">Ur.Widgets.carousel["ID"]</span>. The following methods are exposed for each carousel widget:
          <ul>
            <li><span class="inline_code">jumpToIndex(index)</span>: forces the carousel to jump to the specified (zero based) index</li>
            <li><span class="inline_code">onSlideCallbacks(callback)</span>: supplies a callback which is called when animation has completed</li>
            <li><span class="inline_code">"slidestart"</span> event is fired on view_container when sliding begins (excluding touch input)</li>
            <li><span class="inline_code">"slideend"</span> event is fired on view_container when sliding begins</li>
          </ul>
        </div>
      </div>
    </div>
  </div>


  <div class="wrapper">
    <h2> Demonstration </h2>

    <div class="demonstration">
      <p> Touch-enabled Widget </p>
      <div id="carousel_demonstration" data-ur-set="tabs">
        <h3 data-ur-tabs-component="button" data-ur-tab-id="widget" data-ur-state="enabled"> Widget</h3>

        <h3 data-ur-tabs-component="button" data-ur-tab-id="html">HTML</h3>

        <h3 data-ur-tabs-component="button" data-ur-tab-id="CSS">CSS</h3>

        <div id="carousel_widget" class="example_widget"  data-ur-tabs-component="content" data-ur-tab-id="widget" data-ur-state="enabled">

          <div data-ur-set="carousel" data-ur-id="MyFirstCarousel">
            <span data-ur-carousel-component="count"> -- count -- </span>
            <div data-ur-carousel-component="button" data-ur-carousel-button-type="prev" >
              Prev
            </div>
            <div data-ur-carousel-component="button" data-ur-carousel-button-type="next" >
              Next
            </div>
            <div data-ur-carousel-component="view_container" data-ur-infinite="disabled">
              <div data-ur-carousel-component="scroll_container">
                <img data-ur-carousel-component="item" src='{{site.url}}../images/sample1.png' alt="1" />
                <img data-ur-carousel-component="item" src='{{site.url}}../images/sample2.png' alt="2" />
                <img data-ur-carousel-component="item" src='{{site.url}}../images/sample3.png' alt="3" />
                <img data-ur-carousel-component="item" src='{{site.url}}../images/sample4.png' alt="4" />
                <img data-ur-carousel-component="item" src='{{site.url}}../images/sample5.png' alt="5" />
              </div>
            </div>
          </div>
        </div>

        <div class="widget_html" data-ur-tabs-component="content" data-ur-tab-id="html">
{% highlight html %}
<div data-ur-set="carousel" data-ur-carousel-component="view_container" data-ur-id="MyFirstCarousel">
  <span data-ur-carousel-component="count"> -- count -- </span>
  <div data-ur-carousel-component="button" data-ur-carousel-button-type="prev">Prev</div>
  <div data-ur-carousel-component="button" data-ur-carousel-button-type="next">Next</div>
  <div data-ur-carousel-component='scroll_container'>
    <img data-ur-carousel-component='item' src='images/sample1.png' alt="1" />
    <img data-ur-carousel-component='item' src='images/sample2.png' alt="2" />
    <img data-ur-carousel-component='item' src='images/sample3.png' alt="3" />
    <img data-ur-carousel-component='item' src='images/sample4.png' alt="4" />
    <img data-ur-carousel-component='item' src='images/sample5.png' alt="5" />
    <img data-ur-carousel-component='item' src='images/sample6.png' alt="6" />
    <img data-ur-carousel-component='item' src='images/sample7.png' alt="7" />
    <img data-ur-carousel-component='item' src='images/sample8.png' alt="8" />
  </div>
</div>
{% endhighlight %}
        </div>

        <div class="widget_html" data-ur-tabs-component="content" data-ur-tab-id="CSS">
{% highlight css %}
div[data-ur-carousel-component="view_container"] {
  width: 100%;
  overflow-x: hidden;
}
div[data-ur-carousel-component="scroll_container"] > * {
  display: inline-block;
  float: left;
}
div[data-ur-carousel-component="button"][data-ur-state="disabled"] {
  opacity: 0.3;
}
{% endhighlight %}
        </div>
      </div>
    </div>
    <div>
      <p>More examples of the carousel can be found here, including:</p>
      <ul>
        <li><a href="#vertical">vertical scrolling</a></li>
        <li><a href="#infinite">infinite scrolling</a></li>
        <li><a href="#autoscroll">autoscroll</a></li>
        <li><a href="#jumpto">a "jump to" function</a></li>
      </ul>
    </div>
  </div>
  <div class="wrapper">
    <h1>Carousel Examples</h1>


    <div class="test">
      <a id="vertical"></a>
      <h3>Vertical Scrolling</h3>

      <p>This carousel doesn't allow vertical scrolling on touch screens.</p>
      <ul>
        <li><span class="inline_code">data-ur-vertical-scroll="disabled"</span> - apply this to the view container</li>
      </ul>
      <div data-ur-set="carousel" data-ur-carousel-component="view_container" data-ur-infinite="disabled" data-ur-vertical-scroll="disabled">
        <span data-ur-carousel-component="count"> -- count -- </span>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="prev">Prev</div>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="next">Next</div>
        <div data-ur-carousel-component="scroll_container">
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample1.png' alt="1" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample2.png' alt="2" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample3.png' alt="3" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample4.png' alt="4" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample5.png' alt="5" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample6.png' alt="6" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample7.png' alt="7" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample8.png' alt="8" />
        </div>
      </div>
    </div>
    
    <hr />
    
    <div class="test">
      <a id="infinite"></a>
      <h3>Infinite scrolling example</h3>

      <p>
        Here we have a carousel that loops from front to back.
      </p>
      <div data-ur-set="carousel" data-ur-infinite="enabled" data-ur-center="enabled" data-ur-carousel-component="view_container" data-ur-clones="2">
        <span data-ur-carousel-component="count"> -- count -- </span>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="prev">Prev</div>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="next">Next</div>
        <div data-ur-carousel-component="scroll_container">
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample1.png' alt="1" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample2.png' alt="2" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample3.png' alt="3" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample4.png' alt="4" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample5.png' alt="5" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample6.png' alt="6" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample7.png' alt="7" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample8.png' alt="8" />
        </div>
      </div>
    </div>
    
    <hr />
    
    <div class="test">
      <a id="autoscroll"></a>
      <h3>Slideshow example</h3>

      <p>
        Here we have a carousel that scrolls every five seconds with a "dot" indicator. Note that the current element is centered.
      </p>
      <div data-ur-set="carousel" data-ur-infinite="enabled" data-ur-carousel-component="view_container" data-ur-clones="2" data-ur-autoscroll="enabled">
        <div data-ur-carousel-component="dots"></div>
        <span data-ur-carousel-component="count"> -- count -- </span>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="prev" >
          Prev
        </div>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="next" >
          Next
        </div>
        <div data-ur-carousel-component="scroll_container">
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample1.png' alt="1" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample2.png' alt="2" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample3.png' alt="3" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample4.png' alt="4" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample5.png' alt="5" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample6.png' alt="6" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample7.png' alt="7" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample8.png' alt="8" />
        </div>
      </div>
    </div>

    <hr />

    <div class="test">
      <a id="jumpto"></a>
      <h3> "Jump to..." function </h3>

      <p>
        In this example, we have a bit of extra javascript to include in the page. We use this to
        jump to a location in the carousel. It's what we call an "instance" - only for this <i>instance</i>
        of the carousel will the feature be enabled.
      </p>

{% highlight html %}
<script type="text/javascript">
  x$("[data-ur-carousel-component='item']").click(function(e) {
    console.log("You clicked:", e.target.src);
  });
  x$("#jump").click(function() {
    Ur.Widgets["carousel"]["MyFirstCarousel"].jump_to_index(4);
  });
</script>
{% endhighlight %}

      <p id="jump" onclick="Ur.Widgets.carousel.JumpCarousel.jumpToIndex(4)">Jump to 5th item</p>

      <div class="fixed_width" data-ur-set="carousel" data-ur-id="JumpCarousel" data-ur-carousel-component="view_container" data-ur-infinite="disabled">
        <span data-ur-carousel-component="count"> -- count -- </span>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="prev">Prev</div>
        <div data-ur-carousel-component="button" data-ur-carousel-button-type="next">Next</div>
        <div data-ur-carousel-component="scroll_container">
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample1.png' alt="1" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample2.png' alt="2" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample3.png' alt="3" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample4.png' alt="4" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample5.png' alt="5" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample6.png' alt="6" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample7.png' alt="7" />
          <img data-ur-carousel-component="item" src='{{site.url}}../images/sample8.png' alt="8" />
        </div>
      </div>
    </div>
  </div>
</div>
