(function(){function d(b){return b.replace(/\-[a-z]/g,function(b){return b[1].toUpperCase()})}function h(b){return b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})}function g(b){var c=/\S/;b.each(function(b){for(var a=b.firstChild,i=-1,f;a;)f=a.nextSibling,a.nodeType==3&&!c.test(a.nodeValue)?b.removeChild(a):a.nodeIndex=++i,a=f})}function a(b){if(b._xuiEventID)return b._xuiEventID;return b._xuiEventID=++a.id}function c(b,c){var a=q[b]=q[b]||{};return a[c]=a[c]||[]}function f(b,i,f){var g=
a(b),i=c(g,i),g=function(c){f.call(b,c)===!1&&(c.preventDefault(),c.stopPropagation())};g.guid=f.guid=f.guid||++a.id;g.handler=f;i.push(g);return g}function b(b){return(b||"").replace(v,"")}var i,j=this,p=new String("string"),k=j.document,s=/^#?([\w-]+)$/,n=/^#/,l=/<([\w:]+)/,o=function(b){return[].slice.call(b,0)};try{o(k.documentElement.childNodes)}catch(m){o=function(b){for(var c=[],a=0;b[a];a++)c.push(b[a]);return c}}j.x$=j.xui=i=function(b,c){return new i.fn.find(b,c)};if(![].forEach)Array.prototype.forEach=
function(b,c){var a=this.length||0,i=0;if(typeof b=="function")for(;i<a;i++)b.call(c,this[i],i,this)};i.fn=i.prototype={extend:function(b){for(var c in b)i.fn[c]=b[c]},find:function(b,c){var a=[],f;if(b)if(c==void 0&&this.length)a=this.each(function(c){a=a.concat(o(i(b,c)))}).reduce(a);else if(c=c||k,typeof b==p)s.test(b)&&c.getElementById&&c.getElementsByTagName?(a=n.test(b)?[c.getElementById(b.substr(1))]:c.getElementsByTagName(b),a[0]==null&&(a=[])):l.test(b)?(f=k.createElement("i"),f.innerHTML=
b,o(f.childNodes).forEach(function(b){a.push(b)})):a=j.Sizzle!==void 0?Sizzle(b,c):c.querySelectorAll(b),a=o(a);else if(b instanceof Array)a=b;else if(b.nodeName||b===j)a=[b];else{if(b.toString()=="[object NodeList]"||b.toString()=="[object HTMLCollection]"||typeof b.length=="number")a=o(b)}else return this;return this.set(a)},set:function(b){var c=i();c.cache=o(this.length?this:[]);c.length=0;[].push.apply(c,b);return c},reduce:function(b,c){var a=[],b=b||o(this);b.forEach(function(b){a.indexOf(b,
0,c)<0&&a.push(b)});return a},has:function(b){var c=i(b);return this.filter(function(){var b=this,a=null;c.each(function(c){a=a||c==b});return a})},filter:function(b){var c=[];return this.each(function(a,i){b.call(a,i)&&c.push(a)}).set(c)},not:function(b){var c=o(this),a=i(b);if(!a.length)return this;return this.filter(function(b){var i;a.each(function(a){return i=c[b]!=a});return i})},each:function(b){for(var c=0,a=this.length;c<a;++c)if(b.call(this[c],this[c],c,this)===!1)break;return this}};i.fn.find.prototype=
i.fn;i.extend=i.fn.extend;i.extend({html:function(b,c){g(this);if(arguments.length==0){var a=[];this.each(function(b){a.push(b.innerHTML)});return a}arguments.length==1&&arguments[0]!="remove"&&(c=b,b="inner");if(b!="remove"&&c&&c.each!==void 0){if(b=="inner"){var i=k.createElement("p");c.each(function(b){i.appendChild(b)});this.each(function(b){b.innerHTML=i.innerHTML})}else{var f=this;c.each(function(c){f.html(b,c)})}return this}return this.each(function(a){var i,f=0;if(b=="inner")if(typeof c==
p||typeof c=="number"){a.innerHTML=c;a=a.getElementsByTagName("SCRIPT");for(i=a.length;f<i;f++)eval(a[f].text)}else a.innerHTML="",a.appendChild(c);else if(b=="remove")a.parentNode.removeChild(a);else{f=c;["outer","top","bottom"].indexOf(b);typeof f==p?(i=k.createElement("div"),i.innerHTML=f):(i=k.createElement("div"),i.appendChild(f));f=i;i=f.childNodes;b=="outer"?a.parentNode.replaceChild(f,a):b=="top"?a.insertBefore(f,a.firstChild):b=="bottom"?a.insertBefore(f,null):b=="before"?a.parentNode.insertBefore(f,
a):b=="after"&&a.parentNode.insertBefore(f,a.nextSibling);for(a=f.parentNode;i.length;)a.insertBefore(i[0],f);a.removeChild(f)}})},attr:function(b,a){if(arguments.length==2)return this.each(function(c){c.tagName&&c.tagName.toLowerCase()=="input"&&b=="value"?c.value=a:c.setAttribute&&(b=="checked"&&(a==""||a==!1||typeof a=="undefined")?c.removeAttribute(b):c.setAttribute(b,a))});else{var c=[];this.each(function(a){a.tagName&&a.tagName.toLowerCase()=="input"&&b=="value"?c.push(a.value):a.getAttribute&&
a.getAttribute(b)&&c.push(a.getAttribute(b))});return c}}});"inner outer top bottom remove before after".split(" ").forEach(function(b){i.fn[b]=function(b){return function(a){return this.html(b,a)}}(b)});i.events={};var q={};i.extend({on:function(b,g,d){return this.each(function(j){if(i.events[b]){var l=a(j),l=c(l,b);d=d||{};d.handler=function(a,c){i.fn.fire.call(i(this),b,c)};l.length||i.events[b].call(j,d)}j.addEventListener(b,f(j,b,g),!1)})},un:function(b,i){return this.each(function(f){for(var g=
a(f),d=c(g,b),j=d.length;j--;)if(i===void 0||i.guid===d[j].guid){f.removeEventListener(b,d[j],!1);var l=q[g][b],k=j,h=l.slice(2);l.length=k<0?l.length+k:k;l.push.apply(l,h)}q[g][b].length===0&&delete q[g][b];for(var p in q[g])return;delete q[g]})},fire:function(b,a){return this.each(function(c){if(c==k&&!c.dispatchEvent)c=k.documentElement;var i=k.createEvent("HTMLEvents");i.initEvent(b,!0,!0);i.data=a||{};i.eventName=b;c.dispatchEvent(i)})}});"click load submit touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend orientationchange".split(" ").forEach(function(b){i.fn[b]=
function(b){return function(a){return a?this.on(b,a):this.fire(b)}}(b)});i(j).on("load",function(){"onorientationchange"in k.body||function(b,a){i(j).on("resize",function(){var c=j.innerWidth<b&&j.innerHeight>a&&j.innerWidth<j.innerHeight,f=j.innerWidth>b&&j.innerHeight<a&&j.innerWidth>j.innerHeight;if(c||f)j.orientation=c?0:90,i("body").fire("orientationchange"),b=j.innerWidth,a=j.innerHeight})}(j.innerWidth,j.innerHeight)});var r;try{r=!!k.createEvent("TouchEvent").initTouchEvent}catch(w){r=!1}i.touch=
r;i.ready=function(b){domReady(b)};a.id=1;i.extend({tween:function(b,a){var c=function(){var a={};"duration after easing".split(" ").forEach(function(c){b[c]&&(a[c]=b[c],delete b[c])});return a}(b),i=function(b){var a=[],c;if(typeof b!=p){for(c in b)a.push(h(c)+":"+b[c]);a=a.join(";")}else a=b;return a}(b);return this.each(function(b){emile(b,i,c,a)})}});var v=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;i.extend({setStyle:function(b,a){b=d(b);return this.each(function(c){c.style[b]=a})},getStyle:function(b,a){if(a===
void 0){var c=[];this.each(function(a){c.push(k.defaultView.getComputedStyle(a,"").getPropertyValue(h(b)))});return c}else return this.each(function(c){a(k.defaultView.getComputedStyle(c,"").getPropertyValue(h(b)))})},addClass:function(a){var c=a.split(" ");return this.each(function(a){c.forEach(function(c){if(t(c).test(a.className)===!1)a.className=b(a.className+" "+c)})})},hasClass:function(b,a){var c=this,i=b.split(" ");return this.length&&function(){var b=!0;c.each(function(c){i.forEach(function(i){t(i).test(c.className)?
a&&a(c):b=!1})});return b}()},removeClass:function(a){if(a===void 0)this.each(function(b){b.className=""});else{var c=a.split(" ");this.each(function(a){c.forEach(function(c){a.className=b(a.className.replace(t(c),"$1"))})})}return this},toggleClass:function(a){var c=a.split(" ");return this.each(function(a){c.forEach(function(c){a.className=t(c).test(a.className)?b(a.className.replace(t(c),"$1")):b(a.className+" "+c)})})},css:function(b){for(var a in b)this.setStyle(a,b[a]);return this}});var u=
{},t=function(b){var a=u[b];a||(a=RegExp("(^|\\s+)"+b+"(?:\\s+|$)"),u[b]=a);return a};i.extend({xhr:function(b,a,c){function i(){d.readyState==4&&(delete g.xmlHttpRequest,(d.status===0||d.status==200)&&d.handleResp(),/^[45]/.test(d.status)&&d.handleError())}/^(inner|outer|top|bottom|before|after)$/.test(b)||(c=a,a=b,b="inner");var f=c?c:{};if(typeof c=="function")f={},f.callback=c;var g=this,d=new XMLHttpRequest,c=f.method||"get",j=typeof f.async!="undefined"?f.async:!0,l=f.data||null,k;d.queryString=
l;d.open(c,a,j);d.setRequestHeader("X-Requested-With","XMLHttpRequest");c.toLowerCase()=="post"&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(k in f.headers)f.headers.hasOwnProperty(k)&&d.setRequestHeader(k,f.headers[k]);d.handleResp=f.callback!=null?f.callback:function(){g.html(b,d.responseText)};d.handleError=f.error&&typeof f.error=="function"?f.error:function(){};if(j)d.onreadystatechange=i,this.xmlHttpRequest=d;d.send(l);j||i();return this}});(function(b,a){function c(b,
a,i){return(b+(a-b)*i).toFixed(3)}function i(b,a,c){for(var f=2,g,d,j=[],l=[];g=3,d=arguments[f-1],f--;)if(d.substr(0,1)=="r")for(d=d.match(/\d+/g);g--;)j.push(~~d[g]);else for(d.length==4&&(d="#"+d.substr(1,1)+d.substr(1,1)+d.substr(2,1)+d.substr(2,1)+d.substr(3,1)+d.substr(3,1));g--;)j.push(parseInt(d.substr(1+g*2,2),16));for(;g--;)f=~~(j[g+3]+(j[g]-j[g+3])*c),l.push(f<0?0:f>255?255:f);return"rgb("+l.join(",")+")"}function f(b){var a=parseFloat(b),b=b.replace(/^[\-\d\.]+/,"");return isNaN(a)?{v:b,
f:i,u:""}:{v:a,f:c,u:b}}function g(b){var a={},c=j.length,i;d.innerHTML='<div style="'+b+'"></div>';for(b=d.childNodes[0].style;c--;)if(i=b[j[c]])a[j[c]]=f(i);return a}var d=k.createElement("div"),j="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
a[b]=function(b,a,c,i){var b=typeof b=="string"?k.getElementById(b):b,c=c||{},d=g(a),a=b.currentStyle?b.currentStyle:getComputedStyle(b,null),j,l={},h=+new Date,p=c.duration||200,o=h+p,m,n=c.easing||function(b){return-Math.cos(b*Math.PI)/2+0.5};for(j in d)l[j]=f(a[j]);m=setInterval(function(){var a=+new Date,f=a>o?1:(a-h)/p;for(j in d)b.style[j]=d[j].f(l[j].v,d[j].v,n(f))+d[j].u;a>o&&(clearInterval(m),c.after&&c.after(),i&&setTimeout(i,1))},10)}})("emile",this);(function(b,a){function c(b){for(l=
1;b=i.shift();)b()}var i=[],f,g,d=a.documentElement,j=d.doScroll,l=/^loade|c/.test(a.readyState);a.addEventListener&&a.addEventListener("DOMContentLoaded",g=function(){a.removeEventListener("DOMContentLoaded",g,!1);c()},!1);j&&a.attachEvent("onreadystatechange",f=function(){/^c/.test(a.readyState)&&(a.detachEvent("onreadystatechange",f),c())});b.domReady=j?function(a){self!=top?l?a():i.push(a):function(){try{d.doScroll("left")}catch(c){return setTimeout(function(){b.domReady(a)},50)}a()}()}:function(b){l?
b():i.push(b)}})(this,k)})();xui.extend({add:function(d){[].push.apply(this,slice(xui(d)));return this.set(this.reduce())},end:function(){return this.set(this.cache||[])},show:function(){return this.setStyle("display","block")},hide:function(){return this.setStyle("display","none")}});xui.extend({fade:function(d,h){var g=0;typeof d=="string"&&d=="in"?g=1:typeof d=="number"&&(g=d);return this.tween({opacity:g,duration:0.2},h)}});typeof Ur=="undefined"&&(Ur={QuickLoaders:{},WindowLoaders:{},Widgets:{},onLoadCallbacks:[],setup:function(d){Ur.initialize({type:"DOMContentLoaded"},d);Ur.loaded?Ur.initialize({type:"load"},d):window.addEventListener("load",function(h){Ur.initialize(h,d)},!1)},initialize:function(d,h){var g=d.type=="DOMContentLoaded"?Ur.QuickLoaders:Ur.WindowLoaders;if(h===void 0)h=document.body;for(var a in g)(new g[a]).initialize(h);if(d.type=="load")Ur.loaded=!0,Ur._onLoad()},error:function(d){console.error("Uranium: "+
d)},warn:function(d){console.warn("Uranium: "+d)},_onLoad:function(){x$().iterate(Ur.onLoadCallbacks,function(d){d()})},loaded:!1});window.addEventListener("load",Ur.initialize,!1);window.addEventListener("DOMContentLoaded",Ur.initialize,!1);
var mixins={iterate:function(d,h){if(d!==void 0){var g=d.length||0,a=0;if(typeof h=="function")for(;a<g;a++)h.call(h,d[a],a,d)}},offset:function(d){d==void 0&&(d=this[0]);for(var h=0,g=0;d.offsetParent;)h+=d.offsetTop,g+=d.offsetLeft,d=d.offsetParent;return{left:g,top:h}},findNextAncestor:function(d,h){return d.parentNode!=window.document?x$().findSetAncestor(d.parentNode,h):null},findSetAncestor:function(d,h){var g=x$(d).attr("data-ur-set")[0];if(g!==void 0&&(h==void 0||g==h))return d;return x$().findNextAncestor(d,
h)},get_unique_uranium_id:function(){var d=0;return function(){d+=1;return d}}(),findElements:function(d,h){var g={};this.each(function(a,c,f){return function(){x$().helper_find(this,a,c,f)}}(d,h,g));return g},helper_find:function(d,h,g,a){x$(d).find("*[data-ur-"+h+"-component]").each(function(){var c=!0,f=x$(this).attr("data-ur-id")[0];if(f!==void 0)a[f]===void 0&&(a[f]={});else{var b=x$().findSetAncestor(this,h);if(x$(b).attr("data-ur-state")[0]==="disabled"&&Ur.loaded==!1)return;b!==null?(f=x$(b).attr("data-ur-id")[0],
f===void 0&&(f=x$().get_unique_uranium_id(),x$(b).attr("data-ur-id",f)),a[f]===void 0&&(a[f]={}),a[f].set=b):(Ur.error("couldn't find associated ur-set for component:"),console.log(this),c=!1)}b=x$(this).attr("data-ur-"+h+"-component");b===void 0&&(c=!1);if(c)if(g!==void 0&&g[b]!==void 0)g[b](a[f],this,b);else a[f][b]=this});return a}};xui.extend(mixins);Ur.WindowLoaders.carousel=function(){function d(b){this.container=b.view_container;this.items=b.scroll_container;if(this.items.length==0)return Ur.error("carousel missing item components"),!1;this.button=b.button===void 0?{}:b.button;this.count=b.count;this.dots=b.dots;this.initialize();this.onSlideCallbacks=[]}function h(b){b.preventDefault();b.stopPropagation()}function g(b){b=getComputedStyle(b);b=b.webkitTransform||b.MozTransform||b.oTransform||b.transform;return b!="none"?window.WebKitCSSMatrix?
(new WebKitCSSMatrix(b)).m41:parseInt(b.split(",")[4]):(Ur.error("no transform found"),0)}function a(b){return b.offsetWidth?b.offsetWidth:parseInt(x$(b).getStyle("width"))}function c(){}d.prototype={initialize:function(){this.flag={click:!1,increment:!1,loop:!1,lock:null,timeoutId:null,touched:!1};this.options={autoscroll:!0,autoscrollDelay:5E3,autoscrollForward:!0,cloneLength:1,infinite:!0,maps:!1,transform3d:!0,touch:!0,verticalScroll:!0};this.readAttributes();if(this.options.touch){var b=document.ontouchstart!==
void 0,a=b?"touchmove":"mousemove",c=b?"touchend":"mouseup",f=this.options.maps&&b?document:this.items;x$(f).on(b?"touchstart":"mousedown",function(b){return function(a){b.startSwipe(a)}}(this));x$(f).on(a,function(b){return function(a){b.continueSwipe(a)}}(this));x$(f).on(c,function(b){return function(a){b.finishSwipe(a)}}(this));x$(this.items).click(function(b){return function(a){b.click||h(a)}}(this))}x$(this.button.prev).click(function(b){return function(){b.moveTo(b.magazineCount)}}(this));x$(this.button.next).click(function(b){return function(){b.moveTo(-b.magazineCount)}}(this));
this.preCoords={x:0,y:0};this.itemIndex=0;this.magazineCount=1;if(this.options.infinite){a=x$(this.items).find("[data-ur-carousel-component='item']");this.realItemCount=a.length;this.itemIndex=this.options.cloneLength;this.clones=[];for(b=0;b<this.options.cloneLength;b++)c=a[b].cloneNode(!0),this.clones.push(c),x$(c).attr("data-ur-clone",b).attr("data-ur-state","inactive"),a[a.length-1].parentNode.appendChild(c);for(b=a.length-this.options.cloneLength;b<a.length;b++)c=a[b].cloneNode(!0),this.clones.push(c),
x$(c).attr("data-ur-clone",b).attr("data-ur-state","inactive"),a[0].parentNode.insertBefore(c,a[0])}this.adjustSpacing();if(!this.options.infinite)this.realItemCount=this.itemCount;if(this.dots)for(b=x$(this.dots).find("[data-ur-carousel-component='dot']").length;b<this.realItemCount;b++)a=document.createElement("div"),x$(a).attr("data-ur-carousel-component","dot"),b==0&&x$(a).attr("data-ur-state","active"),this.dots.appendChild(a);this.updateIndex(this.options.infinite?this.options.cloneLength:0);
this.jumpToIndex=function(b){return function(a){b.__proto__.moveToIndex.call(b,a)}}(this);x$(window).orientationchange(function(b){return function(){b.resize()}}(this));x$(window).on("resize",function(b){return function(){b.resize();setTimeout(function(){b.resize()},100)}}(this));this.autoscrollStart()},readAttributes:function(){var b=x$(this.container);if(/Android [12]/.test(navigator.userAgent)&&b.attr("data-ur-android3d")[0]!="enabled")this.options.transform3d=!1;this.options.verticalScroll=b.attr("data-ur-vertical-scroll")[0]!=
"disabled";b.attr("data-ur-vertical-scroll",this.options.verticalScroll?"enabled":"disabled");this.options.touch=b.attr("data-ur-touch")[0]!="disabled";b.attr("data-ur-touch",this.options.touch?"enabled":"disabled");this.options.maps=b.attr("data-ur-maps")[0]=="enabled";b.attr("data-ur-maps",this.options.maps?"enabled":"disabled");this.options.infinite=b.attr("data-ur-infinite")[0]!="disabled";b.attr("data-ur-infinite",this.options.infinite?"enabled":"disabled");var a=parseInt(b.attr("data-ur-clones"));
if(a>0)this.options.cloneLength=a;b.attr("data-ur-clones",this.options.cloneLength);this.options.autoscroll=b.attr("data-ur-autoscroll")[0]=="enabled";b.attr("data-ur-autoscroll",this.options.autoscroll?"enabled":"disabled");a=parseInt(b.attr("data-ur-autoscroll-delay"));if(a>=0)this.options.autoscrollDelay=a;b.attr("data-ur-autoscroll-delay",this.options.autoscrollDelay);this.options.autoscrollForward=b.attr("data-ur-autoscroll-dir")[0]!="prev";b.attr("data-ur-autoscroll-dir",this.options.autoscrollForward?
"next":"prev")},resize:function(){this.snapWidth!=a(this.container)&&this.adjustSpacing()},adjustSpacing:function(){var b=a(this.container);if(!(this.oldWidth!==void 0&&this.oldWidth==b)){var c=this.snapWidth;this.oldWidth=b;var f=0,g=x$(this.items).find("[data-ur-carousel-component='item']");this.itemCount=g.length;for(var d=0,h=0;h<g.length;h++)d+=a(g[h]);this.items.style.width=d+"px";this.snapWidth=b;this.lastIndex=this.itemCount-1;this.itemIndex=this.lastIndex<this.itemIndex?this.lastIndex:this.itemIndex;
f-=g[this.itemIndex].offsetLeft;this.options.infinite&&(b=parseInt((this.snapWidth-a(g[0]))/2),f+=b);if(c)this.destinationOffset=f;this.translate(f)}},autoscrollStart:function(){if(this.options.autoscroll){var b=this;b.flag.timeoutId=setTimeout(function(){!b.options.infinite&&b.itemIndex==b.lastIndex&&b.options.autoscrollForward?b.jumpToIndex(0):!b.options.infinite&&b.itemIndex==0&&!b.options.autoscrollForward?b.jumpToIndex(b.lastIndex):b.moveTo(b.options.autoscrollForward?-b.magazineCount:b.magazineCount)},
b.options.autoscrollDelay)}},autoscrollStop:function(){clearTimeout(this.flag.timeoutId)},getEventCoords:function(b){return b.touches&&b.touches.length>0?{x:b.touches[0].clientX,y:b.touches[0].clientY}:{x:b.clientX,y:b.clientY}},updateButtons:function(){x$(this.button.prev).attr("data-ur-state",this.itemIndex==0?"disabled":"enabled");x$(this.button.next).attr("data-ur-state",this.itemIndex==this.lastIndex?"disabled":"enabled")},getNewIndex:function(b){b=this.itemIndex-b;if(!this.options.infinite)b>
this.lastIndex?b=this.lastIndex:b<0&&(b=0);return b},updateIndex:function(b){if(b!==void 0){this.itemIndex=b;if(this.itemIndex<0)this.itemIndex=0;else if(this.itemIndex>this.lastIndex)this.itemIndex=this.lastIndex-1;b=this.itemIndex;this.options.infinite&&(b=(this.realItemCount+this.itemIndex-this.options.cloneLength)%this.realItemCount);if(this.count!==void 0)this.count.innerHTML=b+1+" of "+this.realItemCount;x$(this.items).find("[data-ur-carousel-component='item'][data-ur-state='active']").attr("data-ur-state",
"inactive");x$(x$(this.items).find("[data-ur-carousel-component='item']")[this.itemIndex]).attr("data-ur-state","active");this.dots&&x$(this.dots).find("[data-ur-carousel-component='dot']").attr("data-ur-state","inactive")[b].setAttribute("data-ur-state","active");this.updateButtons();x$(this.container).fire("slidestart",{index:b})}},startSwipe:function(b){console.log("startSwipe");if(!this.options.maps||b.target.tagName=="AREA"||this.container.contains(b.target)){this.options.verticalScroll||h(b);
this.autoscrollStop();this.flag.touched=!0;b=this.getEventCoords(b);this.preCoords.x=b.x;this.preCoords.y=b.y;this.flag.lock=document.ontouchstart===void 0?"x":null;this.flag.loop=!1;if(b!==null){var a=g(this.items);this.startingOffset=this.startingOffset===void 0||this.startingOffset===null?a:this.destinationOffset;this.startPos=this.endPos=b}this.flag.click=!0}},continueSwipe:function(b){console.log("continueSwipe");if(this.flag.touched){this.flag.click=!1;var c=this.getEventCoords(b);if(document.ontouchstart!==
void 0&&this.options.verticalScroll){var f=Math.abs((this.preCoords.y-c.y)/(this.preCoords.x-c.x));if(this.flag.lock){if(this.flag.lock=="y")return}else if(f>1.2){this.flag.lock="y";return}else if(f<=1.2)this.flag.lock="x";else return}h(b);if(c!==null){this.endPos=c;b=this.swipeDist()+this.startingOffset;if(this.options.infinite)if(c=x$(this.items).find("[data-ur-carousel-component='item']"),f=c[this.lastIndex].offsetLeft+a(c[this.lastIndex])-a(this.container),b>0)f=c[this.realItemCount],c=f.offsetLeft-
c[0].offsetLeft,this.startingOffset-=c,b-=c,this.flag.loop=!this.flag.loop;else if(b<-f)f=c[this.lastIndex-this.realItemCount],c=f.offsetLeft-c[this.lastIndex].offsetLeft,this.startingOffset-=c,b-=c,this.flag.loop=!this.flag.loop;this.translate(b)}}},finishSwipe:function(b){console.log("finishSwipe");!this.flag.click||this.flag.lock?h(b):x$(b.target).click();this.flag.touched=!1;!this.options.verticalScroll||this.flag.lock=="x"?this.moveHelper(this.getDisplacementIndex()):this.flag.lock=="y"&&this.autoscrollStart()},
getDisplacementIndex:function(){var b=this.swipeDist()/a(x$(this.items).find("[data-ur-carousel-component='item']")[0]);return b<=0?Math.floor(b):Math.ceil(b)},snapTo:function(b){this.destinationOffset=b+this.startingOffset;var b=-1*this.lastIndex*this.snapWidth,c=parseInt((this.snapWidth-a(x$(this.items).find("[data-ur-carousel-component='item']")[0]))/2);this.options.infinite&&(b=-a(this.items));if(this.destinationOffset<b||this.destinationOffset>c)this.destinationOffset=Math.abs(this.destinationOffset-
b)<1?b:this.startingOffset;this.momentum()},moveTo:function(b){if(!this.flag.increment)this.startingOffset=g(this.items),this.moveHelper(b)},moveHelper:function(b){this.autoscrollStop();var a=this.getNewIndex(b),c=x$(this.items).find("[data-ur-carousel-component='item']");if(this.options.infinite){var f=g(this.items);if(a<this.options.cloneLength){var d=c[this.options.cloneLength].offsetLeft-c[this.itemCount-this.options.cloneLength].offsetLeft;this.flag.loop||(f+=d,this.translate(f),this.startingOffset+=
d);a+=this.realItemCount;this.itemIndex=a+b}else if(a>this.lastIndex-this.options.cloneLength)d=c[this.itemCount-this.options.cloneLength].offsetLeft-c[this.options.cloneLength].offsetLeft,this.flag.loop||(f+=d,this.translate(f),this.startingOffset+=d),a-=this.realItemCount,this.itemIndex=a+b}var h=c[this.itemIndex].offsetLeft-c[a].offsetLeft;setTimeout(function(b){return function(){b.snapTo(h);b.updateIndex(a)}}(this),6)},moveToIndex:function(b){this.moveTo(this.itemIndex-b)},momentum:function(){if(!this.flag.touched){this.flag.increment=
!1;var b=g(this.items),a=this.destinationOffset-b;a-=a/1.1>=0?Math.floor(a/1.1):Math.ceil(a/1.1);Math.abs(a)<0.01&&(a=0);this.translate(a+b);if(a!=0)this.flag.increment=!0;this.flag.increment?setTimeout(function(b){return function(){b.momentum()}}(this),16):(this.startingOffset=null,this.autoscrollStart(),b=this.itemIndex,x$(this.container).fire("slideend",{index:b}),x$().iterate(this.onSlideCallbacks,function(b){b()}))}},swipeDist:function(){if(this.endPos===void 0)return 0;return this.endPos.x-
this.startPos.x},translate:function(b){var a=this.items,c=this.options.transform3d?"translate3d(":"translate(",f=this.options.transform3d?", 0px)":")";["webkitTransform","MozTransform","oTransform","transform"].forEach(function(g){a.style[g]=c+b+"px, 0px"+f})}};var f={button:function(b,a,c){b.button===void 0&&(b.button={});c=a.getAttribute("data-ur-carousel-button-type");c===void 0&&Ur.error("malformed carousel button type on:"+a.outerHTML);b.button[c]=a;x$(a).attr("data-ur-state",c=="prev"?"disabled":
"enabled")}};c.prototype.initialize=function(b){b=x$(b).findElements("carousel",f);Ur.Widgets.carousel={};for(var a in b){var c=b[a];Ur.Widgets.carousel[a]=new d(c);x$(c.set).attr("data-ur-state","enabled")}};return c}();Ur.QuickLoaders["flex-table"]=function(){function d(g,a){var c=this.options={idprefix:"col-",persist:"persist",checkContainer:null},f=g.table,b=g.body,d=x$(g.head).find("th"),j=x$(b).find("tr"),h=c.checkContainer?x$(c.checkContainer):x$('<div class="table-menu table-menu-hidden" ><ul /></div>');x$(f).addClass("enhanced");d.each(function(b,f){var d=x$(this),g=d.attr("id"),i=d.attr("class");g.length===0&&(g=(c.idprefix?c.idprefix:"col-")+f,d.attr("id",g));j.each(function(b){x$(b).find("th, td").each(function(b){b.cellIndex==
f&&(x$(b).attr("headers",g),i.length!==0&&x$(b).addClass(i[0]))})});if(!d.hasClass(c.persist)){var k=x$('<li><input type="checkbox" name="toggle-cols" id="toggle-col-'+f+"-"+a+'" value="'+g+'" /> <label for="toggle-col-'+f+"-"+a+'">'+d.html()+"</label></li>");h.find("ul").bottom(k);k=k.find("input");k.on("change",function(){var b=x$(this).attr("value"),b=x$("div[data-ur-id='"+a+"'] #"+b[0]+", div[data-ur-id='"+a+"'] [headers="+b[0]+"]");this.checked?(b.removeClass("ur_ft_hide"),b.addClass("ur_ft_show")):
(b.addClass("ur_ft_hide"),b.removeClass("ur_ft_show"))});k.on("updateCheck",function(){d.getStyle("display")=="table-cell"||d.getStyle("display")=="inline"?x$(this).attr("checked",!0):x$(this).attr("checked",!1)});k.fire("updateCheck")}});x$(window).on("orientationchange",function(){h.find("input").fire("updateCheck")});x$(window).on("resize",function(){h.find("input").fire("updateCheck")});if(!c.checkContainer){var b=x$('<div class="table-menu-wrapper"></div>'),d=x$('<div class = "table-background-element"></div>'),
k=x$('<a href="#" class="table-menu-btn" ><span class="table-menu-btn-icon"></span>Display</a>');k.click(function(){h.toggleClass("table-menu-hidden");x$(this).toggleClass("menu-btn-show");return!1});d.click(function(){h.toggleClass("table-menu-hidden");k.toggleClass("menu-btn-show");return!1});h.bottom(d);b.bottom(k).bottom(h);x$(f).before(b)}}function h(){}h.prototype.initialize=function(g){g=x$(g).findElements("flex-table");Ur.Widgets["flex-table"]={};for(var a in g)Ur.Widgets["flex-table"][name]=
new d(g[a],a)};return h}();Ur.QuickLoaders["font-resizer"]=function(){function d(d){this.increase=d.increase;this.decrease=d.decrease;this.label=d.label;this.content=d.content;this.initialize()}function h(){}d.prototype.initialize=function(){var d=x$(this.content);this.min=parseInt(d.attr("data-ur-font-resizer-min"))||100;this.max=parseInt(d.attr("data-ur-font-resizer-max"))||200;this.delta=parseInt(d.attr("data-ur-font-resizer-delta"))||20;this.size=parseInt(d.attr("data-ur-font-resizer-size"))||this.min;this.invert=d.attr("data-ur-font-resizer-invert")==
"Bam!"?!0:!1;x$(this.increase).click(function(a){return function(){a.change(1)}}(this));x$(this.decrease).click(function(a){return function(){a.change(-1)}}(this));if(this.invert)this.size=this.min,this.controlSize=this.max,this.increase.style["font-size"]=this.controlSize+"%",this.decrease.style["font-size"]=this.controlSize+"%",this.label.style["font-size"]=this.controlSize+"%";d[0].style["font-size"]=this.size+"%";x$(this.label).inner("Text Size: "+this.size+"%")};d.prototype.change=function(d){if(d==
-1&&this.size>this.min||d==1&&this.size<this.max)this.size+=d*this.delta,this.content.style["font-size"]=this.size+"%",this.label.innerText="Text Size: "+this.size+"%",this.invert&&(this.controlSize+=-d*this.delta,this.increase.style["font-size"]=this.controlSize+"%",this.decrease.style["font-size"]=this.controlSize+"%",this.label.style["font-size"]=this.controlSize+"%")};h.prototype.initialize=function(g){var g=x$(g).findElements("font-resizer"),a;for(a in g)new d(g[a])};return h}();Ur.QuickLoaders.geocode=function(){function d(b){this.elements=b;this.callback=x$(this.elements.set).attr("data-ur-callback")[0];this.errorCallback=x$(this.elements.set).attr("data-ur-error-callback")[0];UrGeocode=function(b){return function(){b.setup_callbacks()}}(this);b=document.createElement("script");b.type="text/javascript";b.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=UrGeocode";x$("body").html("bottom",b)}function h(b,a,c){var d=0,g=null,h=null,n=null;switch(b){case "rg-city":h=
"locality";break;case "rg-street":h="street_number";break;case "rg-zip":h="postal_code";break;case "rg-state":h="administrative_area_level_1";break;case "rg-country":h="country"}for(var n=a[0],l=null,o=n.address_components.length,m=0;m<o;m++)for(var q=n.address_components[m].types.length,r=0;r<q;r++)if(l=n.address_components[m].types[r],h==l){switch(l){case "street_number":d=m;g=m+1;break;case "locality":d=m;break;case "postal_code":d=m;break;case "administrative_area_level_1":d=m;break;case "country":d=
m}break}if(c==="input")f.elements[b].value=g===null?a[0].address_components[d].long_name:a[0].address_components[d].long_name+" "+a[0].address_components[g].long_name;else if(c==="select"){b=f.elements[b];a=a[0].address_components[d];d=0;for(c=b.length;d<c;d++)if(b[d].value===a.long_name||b[d].value.toUpperCase()===a.short_name)b.selectedIndex=d}}function g(){}var a,c,f;d.prototype={setup_callbacks:function(){f=this;if(this.elements["rg-button"])x$(this.elements["rg-button"]).on("click",function(b){return function(){b.geocode()}}(this));
else console.warn("Ur warning -- no button for triggering reverse geocoding present"),f.geocode()},geoSuccess:function(b){b={lat:b.coords.latitude,lng:b.coords.longitude};this.codeLatLng(b.lat,b.lng)},geoError:function(b){console.error("Ur geolocation error -- Error Getting Your Coordinates!");switch(b.code){case b.TIMEOUT:console.error("Ur geolocation error -- Timeout");break;case b.POSITION_UNAVAILABLE:console.error("Ur geolocation error -- Position unavailable");break;case b.PERMISSION_DENIED:console.error("Ur geolocation error -- Permission denied");
break;case b.UNKNOWN_ERROR:console.error("Ur geolocation error -- Unknown error")}this.errorCallback!==void 0&&eval(this.errorCallback)},geoDenied:function(){console.error("Ur geolocation error -- User Denied Geolocation")},codeLatLng:function(b,d){var g=new google.maps.LatLng(b,d),p=this;a.geocode({latLng:g},function(b,a){if(a==google.maps.GeocoderStatus.OK)if(b[1]){c=b;var d=f.elements;for(elm in d)d[elm].localName==="input"?h(elm,c,"input"):h(elm,c,"select");p.callback!==void 0&&eval(p.callback);
return b}else console.error("Geocoder failed due to: "+a)})},geocode:function(){navigator.geolocation&&(a=new google.maps.Geocoder,navigator.geolocation.getCurrentPosition(function(b){return function(a){b.geoSuccess(a)}}(this),function(b){return function(a){b.geoError(a)}}(this),this.geoDenied))}};g.prototype.initialize=function(b){b=x$(b).findElements("reverse-geocode");Ur.Widgets.geocode={};for(var a in b){Ur.Widgets.geocode[a]=new d(b[a]);break}};return g}();Ur.QuickLoaders["input-clear"]=function(){function d(d){var a=x$(d.input),c=x$('<div class="data-ur-input-clear-ex"></div>');c.hide();a.html("after",c);c.on("touchstart",function(){a[0].value=""});c.on("touchend",function(){a[0].focus()});a.on("focus",function(){a[0].value!=""&&c.show()});a.on("keydown",function(){c.show()});a.on("blur",function(){setTimeout(function(){c.hide()},150)})}function h(){}h.prototype.initialize=function(g){e=g=x$(g).findElements("input-clear");Ur.Widgets["input-clear"]=
{};for(var a in g)Ur.Widgets["input-clear"][a]=new d(g[a])};return h}();(function(){function d(a){this.components=a}d.prototype.preferences={threshold:300};d.prototype.release_element=function(a){if(a.hasAttribute("data-ur-ll-src"))var f="src",b="data-ur-ll-src",d=a.getAttribute(b);else if(a.hasAttribute("data-ur-ll-href"))f="href",b="data-ur-ll-href",d=a.getAttribute();else return;a.removeAttribute(b);a.setAttribute(f,d)};d.prototype.components={};d.prototype.release_group=function(a){for(var f in a)a[f][1]!="scroll"?d.prototype.release_element(a[f][0]):h(a[f][0])==
!0&&d.prototype.release_element(a[f][0])};var h=function(a){var f=window.innerHeight+window.pageYOffset,b=function(b){var a=curtop=0;if(b.offsetParent){do a+=b.offsetLeft,curtop+=b.offsetTop;while(b=b.offsetParent)}return[a,curtop]}(a);return f>=b[1]-a.offsetHeight-d.prototype.preferences.threshold},g=function(a){for(var f in a)switch(f){case "scroll":x$(window).on(f,function(){d.prototype.release_group(a.scroll,"scroll")});break;case "load":x$(window).on(f,function(){d.prototype.release_group(a.load)});
break;case "DOMContentLoaded":d.prototype.release_group(a.DOMContentLoaded);break;case "click":case "touch":x$("html").on(f,function(b){var a=b.target.getAttribute("data-ur-ll-event");(a=="click"||a=="touch")&&d.prototype.release_element(b.target)})}},a=function(){var a={},f=[],b;x$(document).find("[data-ur-ll-href],[data-ur-ll-src]").each(function(){b=this.getAttribute("data-ur-ll-event");b===null&&(b="DOMContentLoaded");a[b]=[];f.push([this,b])});for(var d in f)f[d][1]!==void 0&&a[f[d][1]].push(f[d]);
return a};d.prototype.initialize=function(){var c=a(),c=new d(c);g(c.components);Ur.Widgets.late_load=c};return Ur.QuickLoaders.late_load=d})();Ur.QuickLoaders.map=function(){function d(a,f){this.threshold=a;this.count=0;this.callbacks=[];f!==void 0&&this.callbacks.push(f)}function h(a){this.elements=a;this.fetch_map()}function g(){}d.prototype.finish=function(){this.count+=1;if(this.count==this.threshold)for(var a=this.callbacks.pop();a;)a(),a=this.callbacks.pop()};h.prototype={marker_clicked:function(a,f){x$().iterate(this.elements.descriptions,function(b,a){a==f?x$(b).attr("data-ur-state","enabled"):x$(b).attr("data-ur-state","disabled")})},
fetch_coordinates:function(){this.coordinates=[];this.center=[0,0];this.lat_range={};this.lng_range={};var a=new google.maps.Geocoder,f=this,b=new d(this.elements.addresses.length,function(b){return function(){b.setup_map()}}(this));x$(this.elements.addresses).each(function(d,g){var d=d.innerText,h=d.match(/(\S.*\S)[$\s]/m)[1];h==void 0&&(h=d);a.geocode({address:h},function(a,c){var h=null;if(c===google.maps.GeocoderStatus.OK){h=a[0].geometry.location;f.coordinates[g]=h;f.center[0]+=h.lat();f.center[1]+=
h.lng();var h=a[0].geometry.viewport.getNorthEast(),l=a[0].geometry.viewport.getSouthWest();if(f.lat_range.min&&f.lat_range.min>l.lat()||f.lat_range.min===void 0)f.lat_range.min=l.lat();if(f.lat_range.max&&f.lat_range.max<l.lat()||f.lat_range.max===void 0)f.lat_range.max=h.lat();if(f.lng_range.min&&f.lng_range.min>l.lng()||f.lng_range.min===void 0)f.lng_range.min=l.lng();if(f.lng_range.max&&f.lng_range.max<l.lng()||f.lng_range.max===void 0)f.lng_range.max=h.lng();b.finish()}else console.error("Error geocoding address: "+
d)})})},add_coordinates:function(){var a=this,f=x$(this.elements.icon).attr("data-ur-url")[0],b=x$(this.elements.icon).attr("data-ur-width")[0],d=x$(this.elements.icon).attr("data-ur-height")[0],g=null;b!==void 0&&d!==void 0&&(g=new google.maps.Size(parseInt(b),parseInt(d)));x$().iterate(a.coordinates,function(b,d){var i=null;f!==void 0&&(i=new google.maps.MarkerImage(f,null,null,null,g));i=new google.maps.Marker({position:b,map:a.map,icon:i});google.maps.event.addListener(i,"click",function(b){return function(f){a.marker_clicked(f,
b)}}(d))})},setup_user_location:function(){var a=this.elements.user_location;this.user_location_marker=null;if(a!==void 0){var f=this;x$(a).on("click",function(){f.toggle_user_location()});x$(a).attr("data-ur-state")[0]==="enabled"&&this.fetch_user_location()}},fetch_user_location:function(){var a=function(a){return function(b){a.add_user_location(b)}}(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(a,function(){console.error("Ur : Error getting user location")}):console.error("Ur : Geolocation services not available")},
add_user_location:function(a){a=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);this.user_location_marker=new google.maps.Marker({position:a,map:this.map,icon:"//s3.amazonaws.com/moovweb-live-resources/map/dot-blue.png"});x$(this.elements.user_location).attr("data-ur-state","enabled")},toggle_user_location:function(){this.user_location_marker===null||this.user_location_marker===void 0?this.fetch_user_location():(this.user_location_marker.setMap(null),delete this.user_location_marker,
x$(this.elements.user_location).attr("data-ur-state","disabled"))},fetch_map:function(){var a=document.createElement("script");setup_uranium_map=function(a){return function(){a.fetch_coordinates()}}(this);a.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=setup_uranium_map";this.elements.set.appendChild(a)},setup_map:function(){this.center[0]/=this.elements.addresses.length;this.center[1]/=this.elements.addresses.length;var a={center:new google.maps.LatLng(this.center[0],this.center[1]),
mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.elements.canvas,a);var a=new google.maps.LatLng(this.lat_range.min,this.lng_range.min),f=new google.maps.LatLng(this.lat_range.max,this.lng_range.max);this.map.fitBounds(new google.maps.LatLngBounds(a,f));this.add_coordinates();this.setup_user_location()}};var a={address:function(a,f){a.addresses===void 0&&(a.addresses=[]);a.addresses.push(f)},description:function(a,f){a.descriptions===void 0&&(a.descriptions=[]);a.descriptions.push(f)}};
g.prototype.initialize=function(c){c=x$(c).findElements("map",a);Ur.Widgets.map={};for(var f in c){Ur.Widgets.map[f]=new h(c[f]);break}};return g}();Ur.QuickLoaders["select-buttons"]=function(){function d(d){this.select=d.select;this.increment=d.increment;this.decrement=d.decrement;this.initialize()}function h(){}d.prototype.initialize=function(){x$(this.increment).click(function(d){return function(a){d.trigger_option(a,1)}}(this));x$(this.decrement).click(function(d){return function(a){d.trigger_option(a,-1)}}(this))};d.prototype.trigger_option=function(d,a){if(x$(d.currentTarget).attr("data-ur-state")[0]==="disabled")return!1;var c={},f=this.select.value,
b={prev:null,next:null};x$().iterate(this.select.children,function(a,d){x$(a).attr("value")[0]==f&&(c={element:a,index:d});typeof c.index=="undefined"&&(b.prev=x$(a).attr("value")[0]);d==c.index+1&&(b.next=x$(a).attr("value")[0])});var i=this.select.children.length,h=c.index+a;h==0?x$(this.decrement).attr("data-ur-state","disabled"):x$(this.decrement).attr("data-ur-state","enabled");h==i-1?x$(this.increment).attr("data-ur-state","disabled"):x$(this.increment).attr("data-ur-state","enabled");if(h<
0||h==i)return!1;this.select.value=b[a==1?"next":"prev"];return!0};h.prototype.initialize=function(g){var g=x$(g).findElements("select-buttons"),a;for(a in g)new d(g[a]),x$(g[a].set).attr("data-ur-state","enabled")};return h}();Ur.QuickLoaders["select-list"]=function(){function d(a,c){this.select=a;this.list=c;this.initialize()}function h(a,c){var d="";x$().iterate(a.list.children,function(a){var g=a.getAttribute("value"),h=c.getAttribute("value");g==h?(x$(a).attr("data-ur-state","enabled"),d=x$(a).attr("value")):x$(a).attr("data-ur-state","disabled")});return d}function g(){this.SelectLists={}}d.prototype.initialize=function(){x$(this.list).click(function(a){return function(c){a.trigger_option(c)}}(this))};d.prototype.trigger_option=
function(a){this.select.value=h(this,a.target);return!0};g.prototype.initialize=function(a){var a=x$(a).findElements("select-list"),c;for(c in a){var f=a[c];this.SelectLists[c]=new d(a[c].select,a[c].content);x$(f.set).attr("data-ur-state","enabled");f=this.SelectLists[c];h(f,f.select.children[f.select.options.selectedIndex])}};return g}();Ur.QuickLoaders.SwipeToggle=function(){function d(g){var a=this,c={},f=this.preferences={dots:!1,axis:"x",swipeUpdate:!0,sensitivity:10,loop:!0,touchbuffer:20,tapActive:!1,touch:!0,jump:1,loop:!0,autoSpeed:500},b=this.flags={touched:!1,autoID:null},i=endPos=markerPos={x:0,y:0,time:0},h=function(a){var b=document.createEvent("Event");b.initEvent("loaded",!1,!0);a.dispatchEvent(b)},p=function(){var b=a.preferences.touch;s.addEventListener("touchstart",function(a){b==!0&&c.start(a,this)},!1);s.addEventListener("touchmove",
function(a){b==!0&&c.move(a,this)},!1);s.addEventListener("touchend",function(a){b==!0&&c.end(a,this)},!1)};d.prototype.getActive=function(){return x$('[data-ur-id="'+this.components.name+'"][data-ur-swipe-toggle-component="slider"] > [data-ur-state="active"]')[0]};d.prototype.next=function(){for(var a=this.getActive(),b=this.preferences.jump,c=a.parentNode.children,d=0;d<b;d++)(a.nextElementSibling===null?!1:!0)==!0?a=this.setActive(a.nextElementSibling):(a.nextElementSibling===null?!1:!0)==!1&&
this.preferences.loop==!0&&this.setActive(c[0]);return a};d.prototype.prev=function(){for(var a=this.getActive(),b=this.preferences.jump,c=a.parentNode.children,d=c.length-1,f=0;f<b;f++)(a.previousElementSibling===null?!1:!0)==!0?a=this.setActive(a.previousElementSibling):(a.previousElementSibling===null?!1:!0)==!1&&this.preferences.loop==!0&&this.setActive(c[d]);return a};c={start:function(a){b.touched=!0;markerPos=i={x:a.touches[0].clientX,y:a.touches[0].clientY,time:a.timeStamp}},move:function(b){endPos=
{x:b.touches[0].clientX,y:b.touches[0].clientY};a.preferences.swipeUpdate==!0&&(endPos[n]+a.preferences.sensitivity<markerPos[n]&&(a.next(),markerPos=endPos,b.stopPropagation(),b.preventDefault()),endPos[n]-a.preferences.sensitivity>markerPos[n]&&(a.prev(),markerPos=endPos,b.stopPropagation(),b.preventDefault()))}};c.end=function(b){endPos.time=b.timeStamp;var d;d=f?f.touchbuffer:0;d=i[n]<endPos[n]-d?1:i[n]>endPos[n]+d?2:3;b=b.target;d==1?a.prev():d==2?a.next():b.parentNode==s&&a.setActive(b);c.clear()};
c.clear=function(){i={};endPos={};markerPos={}};var k=function(b){var b=b===void 0?a.components.slider:b,c=b.children.length,d=0;if(c>d)for(;d<c;d++)if(b.children[d].getAttribute("data-ur-state")=="active")break;return d};d.prototype.autoScroll=function(a){var c=this.components.slider.children.length,d=this;window.clearInterval(this.flags.autoID);a=="next"||a=="prev"||(console.log("swipe_toggle: impropper autoScroll direction setting"),a="next");this.flags.autoID=window.setInterval(function(){var f=
k();if(d.preferences.loop==!1&&f+1==c||b.touched==!0)window.clearInterval(d.flags.autoID);else d[a]()},this.preferences.autoSpeed)};d.prototype.dots=function(){var a=k(this.components.slider),b=this.components.name,c=this.components.slider,d=x$(c)[0].children.length-1,f=document.createElement("div");f.setAttribute("class","mw_"+b+"_dots mw_swipe_dots");for(b=0;b<d+1;b++)tempDivHolder=document.createElement("div"),tempDivHolder.id="mw_image_dot"+(b+1),f.appendChild(tempDivHolder);f.children[0]!==void 0&&
f.children[a].setAttribute("mw_swipe_toggle_dot","active");x$(c).after(f);c.addEventListener("update",function(a){for(var a=k(a.slider),b=0;b<d+1;b++)f.children[b].setAttribute("mw_swipe_toggle_dot","");f.children[a].setAttribute("mw_swipe_toggle_dot","active")})};d.prototype.autoPopulate=function(a,b){var c=this.components.slider;if(a===void 0)console.warn("Swipe Toggle: no items listed");else if(b=="top"||b=="bottom"){for(var d in a)x$(c)[b](a[d]);this.setActive(this.components.slider.children[0])}};
if(g!==void 0){this.components=g;var s=this.components.slider;x$(g.next).on("click",function(b){Ur.Widgets.SwipeToggle[a.components.name].next(b)});x$(g.prev).on("click",function(b){Ur.Widgets.SwipeToggle[a.components.name].prev(b)});this.components.slider.children[0]!==void 0&&this.setActive(this.getActive());var n=this.preferences.axis;n=="x"||n=="Y"||Ur.error("incorrect axis set");p();this.preferences.dots==!0&&this.dots();h(this.components.slider)}}d.prototype.components={};d.prototype.setActive=
function(d){var a,c=d.parentNode,f=c.children.length,b=d.previousElementSibling,i=d.nextElementSibling;if(d.nodeType==1&&c==c){d.setAttribute("data-ur-state","active");for(a=0;a<=f;a++)if(b===null||b===void 0)break;else b.setAttribute("data-ur-state","prev"+(a+1)),b=b.previousElementSibling;for(a=0;a<=f;a++)if(i===null||i===void 0)break;else i.setAttribute("data-ur-state","next"+(a+1)),i=i.nextElementSibling}(function(a,b){var c=document.createEvent("Event");c.initEvent("update",!1,!0);c.active=a;
c.slider=a.parentNode;c.activeElement=a;b.dispatchEvent(c)})(d,c);return d};var h=function(d){var d=x$(d).findElements("swipe-toggle"),a;for(a in d){var c=d[a];c.name=a;if(c.slider===void 0)Ur.error("no slider found for toggler with id = "+a);else if(c.slider.children[0]===void 0)Ur.warn("no children in slider: "+c);else if(c.slider.active=x$(c.slider).find("[data-ur-state='active']")[0],Ur.warn("no active element found for toggler with id = "+a),c.slider.active===void 0)console.log("no active element in slider: "+
a),c.slider.active=c.slider.children[0],c.slider.active.setAttribute("data-ur-state","active"),console.log("set active element")}return d};d.prototype.initialize=function(g){g=h(g);Ur.Widgets.SwipeToggle={};var a=function(a){var b=document.createEvent("Event");b.initEvent("preferences",!1,!0);a.components.slider.dispatchEvent(b)},c;for(c in g)Ur.Widgets.SwipeToggle[c]=new d(g[c]),a(Ur.Widgets.SwipeToggle[c]);return g};return new d};Ur.QuickLoaders.tabs=function(){function d(a){this.elements=a;this.setup_callbacks()}function h(){}d.prototype.setup_callbacks=function(){var a=null,c;for(c in this.elements.buttons){var d=this.elements.buttons[c],b=this.elements.contents[c];a===null&&(a=c);if(b===void 0){Ur.error("no matching tab content for tab button");break}b=x$(d).attr("data-ur-state")[0];b!==void 0&&b=="enabled"&&(a=-1);var g=x$(this.elements.set).attr("data-ur-closeable")[0],g=g!==void 0&&g=="true"?!0:!1,h=this;x$(d).on("click",
function(a){var b=a.target.offsetTop-document.body.scrollTop,c=x$(a.currentTarget).attr("data-ur-tab-id")[0],d;for(d in h.elements.buttons){var f=h.elements.buttons[d],o=h.elements.contents[d];if(d!==c)x$(f).attr("data-ur-state","disabled"),x$(o).attr("data-ur-state","disabled");else{var m="enabled";g&&(m=x$(f).attr("data-ur-state")[0],m=m===void 0?"disabled":m,m=m=="enabled"?"disabled":"enabled");x$(f).attr("data-ur-state",m);x$(o).attr("data-ur-state",m)}}a=a.target.offsetTop-document.body.scrollTop;
a<=0&&window.scrollBy(0,a-b)})}};var g={button:function(a,c){a.buttons===void 0&&(a.buttons={});var d=x$(c).attr("data-ur-tab-id")[0];d===void 0?Ur.error("tab defined without a tab-id"):a.buttons[d]=c},content:function(a,c){a.contents===void 0&&(a.contents={});var d=x$(c).attr("data-ur-tab-id")[0];d===void 0?Ur.error("tab defined without a tab-id"):a.contents[d]=c}};h.prototype.initialize=function(a){a=x$(a).findElements("tabs",g);Ur.Widgets.tabs={};for(var c in a)Ur.Widgets.tabs[c]=new d(a[c])};
return h}();Ur.QuickLoaders.toggler=function(){function d(d,a){d.content===void 0&&(d.content=[]);d.content.push(a)}function h(){this.component_constructors={content:d}}h.prototype.find=function(d){var d=x$(d).findElements("toggler",this.component_constructors),a;for(a in d){var c=d[a];if(c.button===void 0)Ur.error("no button found for toggler with id="+a);else{var f=x$(c.button).attr("data-ur-state")[0];f===void 0&&(x$(c.button).attr("data-ur-state","disabled"),f="disabled");c.content===void 0?Ur.error("no content found for toggler with id="+
a):x$().iterate(c.content,function(a){x$(a).attr("data-ur-state")[0]===void 0&&x$(a).attr("data-ur-state",f)})}}return d};h.prototype.construct_button_callback=function(d,a){return function(c){var c=c.currentTarget,f=x$(c).attr("data-ur-state")[0]==="enabled"?"disabled":"enabled";x$(c).attr("data-ur-state",f);x$(a).attr("data-ur-state",f);x$().iterate(d,function(a){var c=x$(a).attr("data-ur-state")[0]==="enabled"?"disabled":"enabled";x$(a).attr("data-ur-state",c)})}};h.prototype.initialize=function(d){var d=
this.find(d),a;for(a in d){var c=d[a];x$(c.button).click(this.construct_button_callback(c.content,c.set));x$(c.set).attr("data-ur-state","enabled")}};return h}();Ur.QuickLoaders["zoom-preview"]=function(){function d(a){this.elements=a.elements;this.modifier={};if(a.modifier!==null)this.modifier=a.modifier;this.dimensions={};this.zoom=!1;this.update();this.events={start:"touchstart",move:"touchmove",end:"touchend"};this.touch=xui.touch;if(!this.touch)this.events={move:"mousemove",end:"mouseout"};this.initialize();console.log("Zoom Preview Loaded")}function h(){}d.prototype.rewrite_images=function(a,c,d){if(typeof a=="undefined")return!1;if(c===void 0&&d===
void 0)c=this.modifier.zoom_image.match,d=this.modifier.zoom_image.replace;this.elements.zoom_image.src=a.replace(c,d);c=d=null;if(this.modifier.button)c=this.modifier.button.match,d=this.modifier.button.replace;this.elements.button.src=c&&d?this.elements.zoom_image.src.replace(c,d):this.elements.zoom_image.src;var b=this;this.elements.zoom_image.style.visibility="hidden";x$(this.elements.zoom_image).on("load",function(){b.update()});x$(this.elements.button).on("load",function(){x$(b.elements.button).addClass("loaded")})};
d.prototype.update=function(){var a=this;x$().iterate(["button","zoom_image","container"],function(c){a.dimensions[c]=[a.elements[c].offsetWidth,a.elements[c].offsetHeight]});var c=x$(this.elements.button).offset(),c=[c.left,c.top];this.button_center=[this.dimensions.button[0]/2+c[0],this.dimensions.button[1]/2+c[1]];this.image_origin=[-0.5*this.dimensions.zoom_image[0],-0.5*this.dimensions.zoom_image[1]]};d.prototype.get_event_coordinates=function(a){if(this.touch){if(a.touches.length==1)return[a.touches[0].pageX,
a.touches[0].pageY]}else return[a.pageX,a.pageY]};d.prototype.initialize=function(){x$(this.elements.button).on(this.events.move,function(a){return function(c){a.scroll_zoom(c)}}(this));x$(this.elements.button).on(this.events.end,function(a){return function(c){a.scroll_end(c)}}(this));if(this.events.start)x$(this.elements.button).on("touchstart",function(){return function(a){a.preventDefault()}}(this));x$(this.elements.thumbnails).click(function(a){return function(c){if(c.target.tagName!="IMG")return!1;
a.rewrite_images(c.target.src)}}(this));this.normal_image_changed()};d.prototype.normal_image_changed=function(a){a!==void 0&&(this.elements.normal_image=a);img=x$(this.elements.normal_image);this.rewrite_images(img.attr("src")[0],this.modifier.normal_image.match,this.modifier.normal_image.replace)};d.prototype.scroll_end=function(){this.elements.zoom_image.style.visibility="hidden"};d.prototype.scroll_zoom=function(a){this.elements.zoom_image.style.visibility="visible";a=this.get_event_coordinates(a);
if(a===null)return!1;a=[(a[0]-this.button_center[0])/this.dimensions.button[0],(a[1]-this.button_center[1])/this.dimensions.button[1]];a=[this.dimensions.zoom_image[0]*a[0],this.dimensions.zoom_image[1]*a[1]];a=[this.image_origin[0]-a[0],this.image_origin[1]-a[1]];a=this.check_bounds(a);this.elements.zoom_image.style.webkitTransform="translate3d("+a[0]+"px,"+a[1]+"px,0px)"};d.prototype.check_bounds=function(a){var c=[this.dimensions.container[0]-this.dimensions.zoom_image[0],this.dimensions.container[1]-
this.dimensions.zoom_image[1]];x$().iterate([0,1],function(d){a[d]>=0&&(a[d]=0);a[d]<=c[d]&&(a[d]=c[d])});return a};var g={_modifiers:function(a,c,d,b){a.modifier===void 0&&(a.modifier={});var g=b===void 0?"src":"zoom";console.log("searching for modifier:",g,c);b=x$(c).attr("data-ur-"+g+"-modifier-match")[0];c=x$(c).attr("data-ur-"+g+"-modifier-replace")[0];typeof b!="undefined"&&typeof c!="undefined"&&(console.log("found modifiers:",b,c),a.modifier[d]={match:RegExp(b),replace:c})},_construct:function(a,
c,d,b){a.elements===void 0&&(a.elements={});a.elements[d]=c;this._modifiers(a,c,d,b)},normal_image:function(a,c,d){this._construct(a,c,d,"zoom")},zoom_image:function(a,c,d){this._construct(a,c,d)},button:function(a,c,d){this._construct(a,c,d)},container:function(a,c,d){this._construct(a,c,d)},thumbnails:function(a,c,d){this._construct(a,c,d)}};h.prototype.initialize=function(a){this.zoom_previews=x$(a).findElements("zoom-preview",g);Ur.Widgets["zoom-preview"]={};for(var c in this.zoom_previews)Ur.Widgets["zoom-preview"][c]=
new d(this.zoom_previews[c]),x$(this.zoom_previews[c].set).attr("data-ur-state","enabled")};return h}();
