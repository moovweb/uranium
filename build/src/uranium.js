(function(){function f(a){return a.replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()})}function i(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function d(a){var b=/\S/;a.each(function(a){for(var c=a.firstChild,h=-1,g;c;)g=c.nextSibling,c.nodeType==3&&!b.test(c.nodeValue)?a.removeChild(c):c.nodeIndex=++h,c=g})}function c(a){if(a._xuiEventID)return a._xuiEventID;return a._xuiEventID=++c.id}function b(a,c){var b=r[a]=r[a]||{};return b[c]=b[c]||[]}function a(a,h,g){var d=
c(a),h=b(d,h),d=function(c){g.call(a,c)===!1&&(c.preventDefault(),c.stopPropagation())};d.guid=g.guid=g.guid||++c.id;d.handler=g;h.push(d);return d}function h(a){return(a||"").replace(v,"")}var g,l=this,j=new String("string"),m=l.document,q=/^#?([\w-]+)$/,o=/^#/,k=/<([\w:]+)/,p=function(a){return[].slice.call(a,0)};try{p(m.documentElement.childNodes)}catch(n){p=function(a){for(var c=[],b=0;a[b];b++)c.push(a[b]);return c}}l.x$=l.xui=g=function(a,c){return new g.fn.find(a,c)};if(![].forEach)Array.prototype.forEach=
function(a,c){var b=this.length||0,h=0;if(typeof a=="function")for(;h<b;h++)a.call(c,this[h],h,this)};g.fn=g.prototype={extend:function(a){for(var c in a)g.fn[c]=a[c]},find:function(a,c){var b=[],h;if(a)if(c==void 0&&this.length)b=this.each(function(c){b=b.concat(p(g(a,c)))}).reduce(b);else if(c=c||m,typeof a==j)q.test(a)&&c.getElementById&&c.getElementsByTagName?(b=o.test(a)?[c.getElementById(a.substr(1))]:c.getElementsByTagName(a),b[0]==null&&(b=[])):k.test(a)?(h=m.createElement("i"),h.innerHTML=
a,p(h.childNodes).forEach(function(a){b.push(a)})):b=l.Sizzle!==void 0?Sizzle(a,c):c.querySelectorAll(a),b=p(b);else if(a instanceof Array)b=a;else if(a.nodeName||a===l)b=[a];else{if(a.toString()=="[object NodeList]"||a.toString()=="[object HTMLCollection]"||typeof a.length=="number")b=p(a)}else return this;return this.set(b)},set:function(a){var c=g();c.cache=p(this.length?this:[]);c.length=0;[].push.apply(c,a);return c},reduce:function(a,c){var b=[],a=a||p(this);a.forEach(function(a){b.indexOf(a,
0,c)<0&&b.push(a)});return b},has:function(a){var c=g(a);return this.filter(function(){var a=this,b=null;c.each(function(c){b=b||c==a});return b})},filter:function(a){var c=[];return this.each(function(b,h){a.call(b,h)&&c.push(b)}).set(c)},not:function(a){var c=p(this),b=g(a);if(!b.length)return this;return this.filter(function(a){var h;b.each(function(b){return h=c[a]!=b});return h})},each:function(a){for(var c=0,b=this.length;c<b;++c)if(a.call(this[c],this[c],c,this)===!1)break;return this}};g.fn.find.prototype=
g.fn;g.extend=g.fn.extend;g.extend({html:function(a,c){d(this);if(arguments.length==0){var b=[];this.each(function(a){b.push(a.innerHTML)});return b}arguments.length==1&&arguments[0]!="remove"&&(c=a,a="inner");if(a!="remove"&&c&&c.each!==void 0){if(a=="inner"){var h=m.createElement("p");c.each(function(a){h.appendChild(a)});this.each(function(a){a.innerHTML=h.innerHTML})}else{var g=this;c.each(function(c){g.html(a,c)})}return this}return this.each(function(b){var h,g=0;if(a=="inner")if(typeof c==
j||typeof c=="number"){b.innerHTML=c;b=b.getElementsByTagName("SCRIPT");for(h=b.length;g<h;g++)eval(b[g].text)}else b.innerHTML="",b.appendChild(c);else if(a=="remove")b.parentNode.removeChild(b);else{g=c;["outer","top","bottom"].indexOf(a);typeof g==j?(h=m.createElement("div"),h.innerHTML=g):(h=m.createElement("div"),h.appendChild(g));g=h;h=g.childNodes;a=="outer"?b.parentNode.replaceChild(g,b):a=="top"?b.insertBefore(g,b.firstChild):a=="bottom"?b.insertBefore(g,null):a=="before"?b.parentNode.insertBefore(g,
b):a=="after"&&b.parentNode.insertBefore(g,b.nextSibling);for(b=g.parentNode;h.length;)b.insertBefore(h[0],g);b.removeChild(g)}})},attr:function(a,b){if(arguments.length==2)return this.each(function(c){c.tagName&&c.tagName.toLowerCase()=="input"&&a=="value"?c.value=b:c.setAttribute&&(a=="checked"&&(b==""||b==!1||typeof b=="undefined")?c.removeAttribute(a):c.setAttribute(a,b))});else{var c=[];this.each(function(b){b.tagName&&b.tagName.toLowerCase()=="input"&&a=="value"?c.push(b.value):b.getAttribute&&
b.getAttribute(a)&&c.push(b.getAttribute(a))});return c}}});"inner outer top bottom remove before after".split(" ").forEach(function(a){g.fn[a]=function(a){return function(b){return this.html(a,b)}}(a)});g.events={};var r={};g.extend({on:function(h,d,f){return this.each(function(j){if(g.events[h]){var k=c(j),k=b(k,h);f=f||{};f.handler=function(a,b){g.fn.fire.call(g(this),h,b)};k.length||g.events[h].call(j,f)}j.addEventListener(h,a(j,h,d),!1)})},un:function(a,h){return this.each(function(g){for(var d=
c(g),f=b(d,a),j=f.length;j--;)if(h===void 0||h.guid===f[j].guid){g.removeEventListener(a,f[j],!1);var k=r[d][a],l=j,i=k.slice(2);k.length=l<0?k.length+l:l;k.push.apply(k,i)}r[d][a].length===0&&delete r[d][a];for(var m in r[d])return;delete r[d]})},fire:function(a,b){return this.each(function(c){if(c==m&&!c.dispatchEvent)c=m.documentElement;var h=m.createEvent("HTMLEvents");h.initEvent(a,!0,!0);h.data=b||{};h.eventName=a;c.dispatchEvent(h)})}});"click load submit touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend orientationchange".split(" ").forEach(function(a){g.fn[a]=
function(a){return function(b){return b?this.on(a,b):this.fire(a)}}(a)});g(l).on("load",function(){"onorientationchange"in m.body||function(a,b){g(l).on("resize",function(){var c=l.innerWidth<a&&l.innerHeight>b&&l.innerWidth<l.innerHeight,h=l.innerWidth>a&&l.innerHeight<b&&l.innerWidth>l.innerHeight;if(c||h)l.orientation=c?0:90,g("body").fire("orientationchange"),a=l.innerWidth,b=l.innerHeight})}(l.innerWidth,l.innerHeight)});var s;try{s=!!m.createEvent("TouchEvent").initTouchEvent}catch(w){s=!1}g.touch=
s;g.ready=function(a){domReady(a)};c.id=1;g.extend({tween:function(a,b){var c=function(){var b={};"duration after easing".split(" ").forEach(function(c){a[c]&&(b[c]=a[c],delete a[c])});return b}(a),h=function(a){var b=[],c;if(typeof a!=j){for(c in a)b.push(i(c)+":"+a[c]);b=b.join(";")}else b=a;return b}(a);return this.each(function(a){emile(a,h,c,b)})}});var v=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;g.extend({setStyle:function(a,b){a=f(a);return this.each(function(c){c.style[a]=b})},getStyle:function(a,b){if(b===
void 0){var c=[];this.each(function(b){c.push(m.defaultView.getComputedStyle(b,"").getPropertyValue(i(a)))});return c}else return this.each(function(c){b(m.defaultView.getComputedStyle(c,"").getPropertyValue(i(a)))})},addClass:function(a){var b=a.split(" ");return this.each(function(a){b.forEach(function(b){if(t(b).test(a.className)===!1)a.className=h(a.className+" "+b)})})},hasClass:function(a,b){var c=this,h=a.split(" ");return this.length&&function(){var a=!0;c.each(function(c){h.forEach(function(h){t(h).test(c.className)?
b&&b(c):a=!1})});return a}()},removeClass:function(a){if(a===void 0)this.each(function(a){a.className=""});else{var b=a.split(" ");this.each(function(a){b.forEach(function(b){a.className=h(a.className.replace(t(b),"$1"))})})}return this},toggleClass:function(a){var b=a.split(" ");return this.each(function(a){b.forEach(function(b){a.className=t(b).test(a.className)?h(a.className.replace(t(b),"$1")):h(a.className+" "+b)})})},css:function(a){for(var b in a)this.setStyle(b,a[b]);return this}});var u=
{},t=function(a){var b=u[a];b||(b=RegExp("(^|\\s+)"+a+"(?:\\s+|$)"),u[a]=b);return b};g.extend({xhr:function(a,b,c){function h(){f.readyState==4&&(delete d.xmlHttpRequest,(f.status===0||f.status==200)&&f.handleResp(),/^[45]/.test(f.status)&&f.handleError())}/^(inner|outer|top|bottom|before|after)$/.test(a)||(c=b,b=a,a="inner");var g=c?c:{};if(typeof c=="function")g={},g.callback=c;var d=this,f=new XMLHttpRequest,c=g.method||"get",j=typeof g.async!="undefined"?g.async:!0,k=g.data||null,l;f.queryString=
k;f.open(c,b,j);f.setRequestHeader("X-Requested-With","XMLHttpRequest");c.toLowerCase()=="post"&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(l in g.headers)g.headers.hasOwnProperty(l)&&f.setRequestHeader(l,g.headers[l]);f.handleResp=g.callback!=null?g.callback:function(){d.html(a,f.responseText)};f.handleError=g.error&&typeof g.error=="function"?g.error:function(){};if(j)f.onreadystatechange=h,this.xmlHttpRequest=f;f.send(k);j||h();return this}});(function(a,b){function c(a,
b,h){return(a+(b-a)*h).toFixed(3)}function h(a,b,c){for(var g=2,f,d,j=[],k=[];f=3,d=arguments[g-1],g--;)if(d.substr(0,1)=="r")for(d=d.match(/\d+/g);f--;)j.push(~~d[f]);else for(d.length==4&&(d="#"+d.substr(1,1)+d.substr(1,1)+d.substr(2,1)+d.substr(2,1)+d.substr(3,1)+d.substr(3,1));f--;)j.push(parseInt(d.substr(1+f*2,2),16));for(;f--;)g=~~(j[f+3]+(j[f]-j[f+3])*c),k.push(g<0?0:g>255?255:g);return"rgb("+k.join(",")+")"}function g(a){var b=parseFloat(a),a=a.replace(/^[\-\d\.]+/,"");return isNaN(b)?{v:a,
f:h,u:""}:{v:b,f:c,u:a}}function f(a){var b={},c=j.length,h;d.innerHTML='<div style="'+a+'"></div>';for(a=d.childNodes[0].style;c--;)if(h=a[j[c]])b[j[c]]=g(h);return b}var d=m.createElement("div"),j="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
b[a]=function(a,b,c,h){var a=typeof a=="string"?m.getElementById(a):a,c=c||{},d=f(b),b=a.currentStyle?a.currentStyle:getComputedStyle(a,null),j,k={},l=+new Date,i=c.duration||200,p=l+i,n,o=c.easing||function(a){return-Math.cos(a*Math.PI)/2+0.5};for(j in d)k[j]=g(b[j]);n=setInterval(function(){var b=+new Date,g=b>p?1:(b-l)/i;for(j in d)a.style[j]=d[j].f(k[j].v,d[j].v,o(g))+d[j].u;b>p&&(clearInterval(n),c.after&&c.after(),h&&setTimeout(h,1))},10)}})("emile",this);(function(a,b){function c(a){for(k=
1;a=h.shift();)a()}var h=[],g,d,f=b.documentElement,j=f.doScroll,k=/^loade|c/.test(b.readyState);b.addEventListener&&b.addEventListener("DOMContentLoaded",d=function(){b.removeEventListener("DOMContentLoaded",d,!1);c()},!1);j&&b.attachEvent("onreadystatechange",g=function(){/^c/.test(b.readyState)&&(b.detachEvent("onreadystatechange",g),c())});a.domReady=j?function(b){self!=top?k?b():h.push(b):function(){try{f.doScroll("left")}catch(c){return setTimeout(function(){a.domReady(b)},50)}b()}()}:function(a){k?
a():h.push(a)}})(this,m)})();xui.extend({add:function(f){[].push.apply(this,slice(xui(f)));return this.set(this.reduce())},end:function(){return this.set(this.cache||[])},show:function(){return this.setStyle("display","block")},hide:function(){return this.setStyle("display","none")}});xui.extend({fade:function(f,i){var d=0;typeof f=="string"&&f=="in"?d=1:typeof f=="number"&&(d=f);return this.tween({opacity:d,duration:0.2},i)}});typeof Ur=="undefined"&&(Ur={QuickLoaders:{},WindowLoaders:{},Widgets:{},onLoadCallbacks:[],setup:function(f){Ur.initialize({type:"DOMContentLoaded"},f);Ur.loaded?Ur.initialize({type:"load"},f):window.addEventListener("load",function(i){Ur.initialize(i,f)},!1)},initialize:function(f,i){var d=f.type=="DOMContentLoaded"?Ur.QuickLoaders:Ur.WindowLoaders;if(i===void 0)i=document.body;for(var c in d)(new d[c]).initialize(i);if(f.type=="load")Ur.loaded=!0,Ur._onLoad()},error:function(f){console.error("Uranium: "+
f)},warn:function(f){console.warn("Uranium: "+f)},_onLoad:function(){x$().iterate(Ur.onLoadCallbacks,function(f){f()})},loaded:!1});window.addEventListener("load",Ur.initialize,!1);window.addEventListener("DOMContentLoaded",Ur.initialize,!1);
var mixins={iterate:function(f,i){if(f!==void 0){var d=f.length||0,c=0;if(typeof i=="function")for(;c<d;c++)i.call(i,f[c],c,f)}},offset:function(f){f==void 0&&(f=this[0]);for(var i=0,d=0;f.offsetParent;)i+=f.offsetTop,d+=f.offsetLeft,f=f.offsetParent;return{left:d,top:i}},findNextAncestor:function(f,i){return f.parentNode!=window.document?x$().findSetAncestor(f.parentNode,i):null},findSetAncestor:function(f,i){var d=x$(f).attr("data-ur-set")[0];if(d!==void 0&&(i==void 0||d==i))return f;return x$().findNextAncestor(f,
i)},get_unique_uranium_id:function(){var f=0;return function(){f+=1;return f}}(),findElements:function(f,i){var d={};this.each(function(c,b,a){return function(){x$().helper_find(this,c,b,a)}}(f,i,d));return d},helper_find:function(f,i,d,c){x$(f).find("*[data-ur-"+i+"-component]").each(function(){var b=!0,a=x$(this).attr("data-ur-id")[0];if(a!==void 0)c[a]===void 0&&(c[a]={});else{var h=x$().findSetAncestor(this,i);if(x$(h).attr("data-ur-state")[0]==="disabled"&&Ur.loaded==!1)return;h!==null?(a=x$(h).attr("data-ur-id")[0],
a===void 0&&(a=x$().get_unique_uranium_id(),x$(h).attr("data-ur-id",a)),c[a]===void 0&&(c[a]={}),c[a].set=h):(Ur.error("couldn't find associated ur-set for component:"),console.log(this),b=!1)}h=x$(this).attr("data-ur-"+i+"-component");h===void 0&&(b=!1);if(b)if(d!==void 0&&d[h]!==void 0)d[h](c[a],this,h);else c[a][h]=this});return c}};xui.extend(mixins);Ur.WindowLoaders.carousel=function(){function f(a){this.container=a.view_container;this.items=a.scroll_container;if(this.items.length==0)return Ur.error("carousel missing item components"),!1;this.button=a.button===void 0?{}:a.button;this.count=a.count;this.dots=a.dots;this.initialize();this.onSlideCallbacks=[]}function i(a){a.preventDefault();a.stopPropagation()}function d(a){a=getComputedStyle(a);a=a.webkitTransform||a.MozTransform||a.oTransform||a.transform;return a!="none"?window.WebKitCSSMatrix?
(new WebKitCSSMatrix(a)).m41:parseInt(a.split(",")[4]):(Ur.error("no transform found"),0)}function c(){}f.prototype={initialize:function(){this.flag={click:!1,increment:!1,loop:!1,lock:null,timeoutId:null,touched:!1};this.options={autoscroll:!0,autoscrollDelay:5E3,autoscrollForward:!0,cloneLength:1,fill:!0,infinite:!0,maps:!1,transform3d:!0,touch:!0,verticalScroll:!0};this.readAttributes();if(this.options.touch){var a=document.ontouchstart!==void 0,b=a?"touchmove":"mousemove",c=a?"touchend":"mouseup",
d=this.options.maps&&a?document:this.items;x$(d).on(a?"touchstart":"mousedown",function(a){return function(b){a.startSwipe(b)}}(this));x$(d).on(b,function(a){return function(b){a.continueSwipe(b)}}(this));x$(d).on(c,function(a){return function(b){a.finishSwipe(b)}}(this));x$(this.items).click(function(a){return function(b){a.flag.click||i(b)}}(this))}x$(this.button.prev).click(function(a){return function(){a.moveTo(a.magazineCount)}}(this));x$(this.button.next).click(function(a){return function(){a.moveTo(-a.magazineCount)}}(this));
this.preCoords={x:0,y:0};this.itemIndex=0;this.magazineCount=1;if(this.options.infinite){b=x$(this.items).find("[data-ur-carousel-component='item']");this.realItemCount=b.length;this.itemIndex=this.options.cloneLength;this.clones=[];for(a=0;a<this.options.cloneLength;a++)c=b[a].cloneNode(!0),this.clones.push(c),x$(c).attr("data-ur-clone",a).attr("data-ur-state","inactive"),b[b.length-1].parentNode.appendChild(c);for(a=b.length-this.options.cloneLength;a<b.length;a++)c=b[a].cloneNode(!0),this.clones.push(c),
x$(c).attr("data-ur-clone",a).attr("data-ur-state","inactive"),b[0].parentNode.insertBefore(c,b[0])}this.adjustSpacing();if(!this.options.infinite)this.realItemCount=this.itemCount;if(this.dots)for(a=x$(this.dots).find("[data-ur-carousel-component='dot']").length;a<this.realItemCount;a++)b=document.createElement("div"),x$(b).attr("data-ur-carousel-component","dot"),a==0&&x$(b).attr("data-ur-state","active"),this.dots.appendChild(b);this.updateIndex(this.options.infinite?this.options.cloneLength:0);
this.jumpToIndex=function(a){return function(b){a.__proto__.moveToIndex.call(a,b)}}(this);x$(window).orientationchange(function(a){return function(){a.resize()}}(this));x$(window).on("resize",function(a){return function(){a.resize();setTimeout(function(){a.resize()},100)}}(this));this.autoscrollStart()},readAttributes:function(){var a=x$(this.container);if(/Android [12]/.test(navigator.userAgent)&&a.attr("data-ur-android3d")[0]!="enabled")this.options.transform3d=!1;this.options.fill=a.attr("data-ur-fill")[0]==
"enabled";a.attr("data-ur-fill",this.options.fill?"enabled":"disabled");this.options.verticalScroll=a.attr("data-ur-vertical-scroll")[0]!="disabled";a.attr("data-ur-vertical-scroll",this.options.verticalScroll?"enabled":"disabled");this.options.touch=a.attr("data-ur-touch")[0]!="disabled";a.attr("data-ur-touch",this.options.touch?"enabled":"disabled");this.options.maps=a.attr("data-ur-maps")[0]=="enabled";a.attr("data-ur-maps",this.options.maps?"enabled":"disabled");this.options.infinite=a.attr("data-ur-infinite")[0]!=
"disabled";a.attr("data-ur-infinite",this.options.infinite?"enabled":"disabled");var b=parseInt(a.attr("data-ur-clones"));if(b>0)this.options.cloneLength=b;a.attr("data-ur-clones",this.options.cloneLength);this.options.autoscroll=a.attr("data-ur-autoscroll")[0]=="enabled";a.attr("data-ur-autoscroll",this.options.autoscroll?"enabled":"disabled");b=parseInt(a.attr("data-ur-autoscroll-delay"));if(b>=0)this.options.autoscrollDelay=b;a.attr("data-ur-autoscroll-delay",this.options.autoscrollDelay);this.options.autoscrollForward=
a.attr("data-ur-autoscroll-dir")[0]!="prev";a.attr("data-ur-autoscroll-dir",this.options.autoscrollForward?"next":"prev")},resize:function(){var a=this.container.offsetWidth;this.snapWidth!=a&&a!=0&&this.adjustSpacing()},adjustSpacing:function(){var a=this.container.offsetWidth;if(!(this.oldWidth!==void 0&&this.oldWidth==a)){var b=this.snapWidth;this.oldWidth=a;var c=0,d=x$(this.items).find("[data-ur-carousel-component='item']");this.itemCount=d.length;for(var f=0,i=0;i<d.length;i++)this.options.fill?
(d[i].style.width=visible_width+"px",f+=visible_width):f+=d[i].offsetWidth;this.items.style.width=f+"px";this.snapWidth=a;this.lastIndex=this.itemCount-1;this.itemIndex=this.lastIndex<this.itemIndex?this.lastIndex:this.itemIndex;c-=d[this.itemIndex].offsetLeft;this.options.infinite&&(a=parseInt((this.snapWidth-d[0].offsetWidth)/2),c+=a);if(b)this.destinationOffset=c;this.translate(c)}},autoscrollStart:function(){if(this.options.autoscroll){var a=this;a.flag.timeoutId=setTimeout(function(){a.container.offsetWidth!=
0?!a.options.infinite&&a.itemIndex==a.lastIndex&&a.options.autoscrollForward?a.jumpToIndex(0):!a.options.infinite&&a.itemIndex==0&&!a.options.autoscrollForward?a.jumpToIndex(a.lastIndex):a.moveTo(a.options.autoscrollForward?-a.magazineCount:a.magazineCount):a.autoscrollStart()},a.options.autoscrollDelay)}},autoscrollStop:function(){clearTimeout(this.flag.timeoutId)},getEventCoords:function(a){return a.touches&&a.touches.length>0?{x:a.touches[0].clientX,y:a.touches[0].clientY}:{x:a.clientX,y:a.clientY}},
updateButtons:function(){x$(this.button.prev).attr("data-ur-state",this.itemIndex==0?"disabled":"enabled");x$(this.button.next).attr("data-ur-state",this.itemIndex==this.lastIndex?"disabled":"enabled")},getNewIndex:function(a){a=this.itemIndex-a;if(!this.options.infinite)a>this.lastIndex?a=this.lastIndex:a<0&&(a=0);return a},updateIndex:function(a){if(a!==void 0){this.itemIndex=a;if(this.itemIndex<0)this.itemIndex=0;else if(this.itemIndex>this.lastIndex)this.itemIndex=this.lastIndex-1;a=this.itemIndex;
this.options.infinite&&(a=(this.realItemCount+this.itemIndex-this.options.cloneLength)%this.realItemCount);if(this.count!==void 0)this.count.innerHTML=a+1+" of "+this.realItemCount;x$(this.items).find("[data-ur-carousel-component='item'][data-ur-state='active']").attr("data-ur-state","inactive");x$(x$(this.items).find("[data-ur-carousel-component='item']")[this.itemIndex]).attr("data-ur-state","active");this.dots&&x$(this.dots).find("[data-ur-carousel-component='dot']").attr("data-ur-state","inactive")[a].setAttribute("data-ur-state",
"active");this.updateButtons();x$(this.container).fire("slidestart",{index:a})}},startSwipe:function(a){if(!this.options.maps||a.target.tagName=="AREA"||this.container.contains(a.target)){this.options.verticalScroll||i(a);this.autoscrollStop();this.flag.touched=!0;a=this.getEventCoords(a);this.preCoords.x=a.x;this.preCoords.y=a.y;this.flag.lock=document.ontouchstart===void 0?"x":null;this.flag.loop=!1;if(a!==null){var b=d(this.items);this.startingOffset=this.startingOffset===void 0||this.startingOffset===
null?b:this.destinationOffset;this.startPos=this.endPos=a}this.flag.click=!0}},continueSwipe:function(a){if(this.flag.touched){this.flag.click=!1;var b=this.getEventCoords(a);if(document.ontouchstart!==void 0&&this.options.verticalScroll){var c=Math.abs((this.preCoords.y-b.y)/(this.preCoords.x-b.x));if(this.flag.lock){if(this.flag.lock=="y")return}else if(c>1.2){this.flag.lock="y";return}else if(c<=1.2)this.flag.lock="x";else return}i(a);if(b!==null){this.endPos=b;a=this.swipeDist()+this.startingOffset;
if(this.options.infinite)if(b=x$(this.items).find("[data-ur-carousel-component='item']"),c=b[this.lastIndex].offsetLeft+b[this.lastIndex].offsetWidth-this.container.offsetWidth,a>0)c=b[this.realItemCount],b=c.offsetLeft-b[0].offsetLeft,this.startingOffset-=b,a-=b,this.flag.loop=!this.flag.loop;else if(a<-c)c=b[this.lastIndex-this.realItemCount],b=c.offsetLeft-b[this.lastIndex].offsetLeft,this.startingOffset-=b,a-=b,this.flag.loop=!this.flag.loop;this.translate(a)}}},finishSwipe:function(a){!this.flag.click||
this.flag.lock?i(a):x$(a.target).click();this.flag.touched=!1;!this.options.verticalScroll||this.flag.lock=="x"?this.moveHelper(this.getDisplacementIndex()):this.flag.lock=="y"&&this.autoscrollStart()},getDisplacementIndex:function(){var a=this.swipeDist()/x$(this.items).find("[data-ur-carousel-component='item']")[0].offsetWidth;return a<=0?Math.floor(a):Math.ceil(a)},snapTo:function(a){this.destinationOffset=a+this.startingOffset;var a=-1*this.lastIndex*this.snapWidth,b=parseInt((this.snapWidth-
x$(this.items).find("[data-ur-carousel-component='item']")[0].offsetWidth)/2);this.options.infinite&&(a=-this.items.offsetWidth);if(this.destinationOffset<a||this.destinationOffset>b)this.destinationOffset=Math.abs(this.destinationOffset-a)<1?a:this.startingOffset;this.momentum()},moveTo:function(a){if(!this.flag.increment)this.startingOffset=d(this.items),this.moveHelper(a)},moveHelper:function(a){this.autoscrollStop();var b=this.getNewIndex(a),c=x$(this.items).find("[data-ur-carousel-component='item']");
if(this.options.infinite){var f=d(this.items);if(b<this.options.cloneLength){var j=c[this.options.cloneLength].offsetLeft-c[this.itemCount-this.options.cloneLength].offsetLeft;this.flag.loop||(f+=j,this.translate(f),this.startingOffset+=j);b+=this.realItemCount;this.itemIndex=b+a}else if(b>this.lastIndex-this.options.cloneLength)j=c[this.itemCount-this.options.cloneLength].offsetLeft-c[this.options.cloneLength].offsetLeft,this.flag.loop||(f+=j,this.translate(f),this.startingOffset+=j),b-=this.realItemCount,
this.itemIndex=b+a}var i=c[this.itemIndex].offsetLeft-c[b].offsetLeft,q=this;setTimeout(function(){q.snapTo(i);q.updateIndex(b)},6)},moveToIndex:function(a){this.moveTo(this.itemIndex-a)},momentum:function(){if(!this.flag.touched){this.flag.increment=!1;var a=d(this.items),b=this.destinationOffset-a;b-=b/1.1>=0?Math.floor(b/1.1):Math.ceil(b/1.1);Math.abs(b)<0.01&&(b=0);this.translate(b+a);if(b!=0)this.flag.increment=!0;this.flag.increment?setTimeout(function(a){return function(){a.momentum()}}(this),
16):(this.startingOffset=null,this.autoscrollStart(),a=this.itemIndex,x$(this.container).fire("slideend",{index:a}),x$().iterate(this.onSlideCallbacks,function(a){a()}))}},swipeDist:function(){if(this.endPos===void 0)return 0;return this.endPos.x-this.startPos.x},translate:function(a){var b=this.items,c=this.options.transform3d?"translate3d(":"translate(",d=this.options.transform3d?", 0px)":")";["webkitTransform","MozTransform","oTransform","transform"].forEach(function(f){b.style[f]=c+a+"px, 0px"+
d})}};var b={button:function(a,b,c){a.button===void 0&&(a.button={});c=b.getAttribute("data-ur-carousel-button-type");c===void 0&&Ur.error("malformed carousel button type on:"+b.outerHTML);a.button[c]=b;x$(b).attr("data-ur-state",c=="prev"?"disabled":"enabled")}};c.prototype.initialize=function(a){a=x$(a).findElements("carousel",b);Ur.Widgets.carousel={};for(var c in a){var d=a[c];Ur.Widgets.carousel[c]=new f(d);x$(d.set).attr("data-ur-state","enabled")}};return c}();Ur.QuickLoaders["flex-table"]=function(){function f(d,c){var b=this.options={idprefix:"col-",persist:"persist",checkContainer:null},a=d.table,h=d.body,g=x$(d.head).find("th"),f=x$(h).find("tr"),j=b.checkContainer?x$(b.checkContainer):x$('<div class="table-menu table-menu-hidden" ><ul /></div>');x$(a).addClass("enhanced");g.each(function(a,h){var d=x$(this),g=d.attr("id"),i=d.attr("class");g.length===0&&(g=(b.idprefix?b.idprefix:"col-")+h,d.attr("id",g));f.each(function(a){x$(a).find("th, td").each(function(a){a.cellIndex==
h&&(x$(a).attr("headers",g),i.length!==0&&x$(a).addClass(i[0]))})});if(!d.hasClass(b.persist)){var m=x$('<li><input type="checkbox" name="toggle-cols" id="toggle-col-'+h+"-"+c+'" value="'+g+'" /> <label for="toggle-col-'+h+"-"+c+'">'+d.html()+"</label></li>");j.find("ul").bottom(m);m=m.find("input");m.on("change",function(){var a=x$(this).attr("value"),a=x$("div[data-ur-id='"+c+"'] #"+a[0]+", div[data-ur-id='"+c+"'] [headers="+a[0]+"]");this.checked?(a.removeClass("ur_ft_hide"),a.addClass("ur_ft_show")):
(a.addClass("ur_ft_hide"),a.removeClass("ur_ft_show"))});m.on("updateCheck",function(){d.getStyle("display")=="table-cell"||d.getStyle("display")=="inline"?x$(this).attr("checked",!0):x$(this).attr("checked",!1)});m.fire("updateCheck")}});x$(window).on("orientationchange",function(){j.find("input").fire("updateCheck")});x$(window).on("resize",function(){j.find("input").fire("updateCheck")});if(!b.checkContainer){var h=x$('<div class="table-menu-wrapper"></div>'),g=x$('<div class = "table-background-element"></div>'),
i=x$('<a href="#" class="table-menu-btn" ><span class="table-menu-btn-icon"></span>Display</a>');i.click(function(){j.toggleClass("table-menu-hidden");x$(this).toggleClass("menu-btn-show");return!1});g.click(function(){j.toggleClass("table-menu-hidden");i.toggleClass("menu-btn-show");return!1});j.bottom(g);h.bottom(i).bottom(j);x$(a).before(h)}}function i(){}i.prototype.initialize=function(d){d=x$(d).findElements("flex-table");Ur.Widgets["flex-table"]={};for(var c in d)Ur.Widgets["flex-table"][name]=
new f(d[c],c)};return i}();Ur.QuickLoaders["font-resizer"]=function(){function f(c){this.increase=c.increase;this.decrease=c.decrease;this.label=c.label;this.content=c.content;if(c.reset)this.reset_size=c.reset,d=!0;this.initialize()}function i(){}var d="false";f.prototype.initialize=function(){var c=x$(this.content);this.min=parseInt(c.attr("data-ur-font-resizer-min"))||100;this.max=parseInt(c.attr("data-ur-font-resizer-max"))||200;this.delta=parseInt(c.attr("data-ur-font-resizer-delta"))||20;this.original_size=this.size=
parseInt(c.attr("data-ur-font-resizer-size"))||this.min;this.invert=c.attr("data-ur-font-resizer-invert")=="Bam!"?!0:!1;x$(this.increase).click(function(b){return function(){b.change(1)}}(this));x$(this.decrease).click(function(b){return function(){b.change(-1)}}(this));d&&x$(this.reset_size).click(function(b){return function(){b.change(0)}}(this));if(this.invert)this.size=this.min,this.controlSize=this.max,this.increase.style["font-size"]=this.controlSize+"%",this.decrease.style["font-size"]=this.controlSize+
"%",this.label.style["font-size"]=this.controlSize+"%";c[0].style["font-size"]=this.size+"%";x$(this.label).inner("Text Size: "+this.size+"%")};f.prototype.change=function(c){if(c==-1&&this.size>this.min||c==1&&this.size<this.max)this.size+=c*this.delta,this.content.style["font-size"]=this.size+"%",this.label.innerText="Text Size: "+this.size+"%",this.invert&&(this.controlSize+=-c*this.delta,this.increase.style["font-size"]=this.controlSize+"%",this.decrease.style["font-size"]=this.controlSize+"%",
this.label.style["font-size"]=this.controlSize+"%");else if(c==0)this.size=this.original_size,this.content.style["font-size"]=this.size+"%",this.label.innerText="Text Size: "+this.size+"%"};i.prototype.initialize=function(c){var c=x$(c).findElements("font-resizer"),b;for(b in c)new f(c[b])};return i}();Ur.QuickLoaders.geocode=function(){function f(a){this.elements=a;this.callback=x$(this.elements.set).attr("data-ur-callback")[0];this.errorCallback=x$(this.elements.set).attr("data-ur-error-callback")[0];UrGeocode=function(a){return function(){a.setup_callbacks()}}(this);a=document.createElement("script");a.type="text/javascript";a.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=UrGeocode";x$("body").html("bottom",a)}function i(b,c,d){var f=0,i=null,q=null,o=null;switch(b){case "rg-city":q=
"locality";break;case "rg-street":q="street_number";break;case "rg-zip":q="postal_code";break;case "rg-state":q="administrative_area_level_1";break;case "rg-country":q="country"}for(var o=c[0],k=null,p=o.address_components.length,n=0;n<p;n++)for(var r=o.address_components[n].types.length,s=0;s<r;s++)if(k=o.address_components[n].types[s],q==k){switch(k){case "street_number":f=n;i=n+1;break;case "locality":f=n;break;case "postal_code":f=n;break;case "administrative_area_level_1":f=n;break;case "country":f=
n}break}if(d==="input")a.elements[b].value=i===null?c[0].address_components[f].long_name:c[0].address_components[f].long_name+" "+c[0].address_components[i].long_name;else if(d==="select"){b=a.elements[b];c=c[0].address_components[f];f=0;for(d=b.length;f<d;f++)if(b[f].value===c.long_name||b[f].value.toUpperCase()===c.short_name)b.selectedIndex=f}}function d(){}var c,b,a;f.prototype={setup_callbacks:function(){a=this;if(this.elements["rg-button"])x$(this.elements["rg-button"]).on("click",function(a){return function(){a.geocode()}}(this));
else console.warn("Ur warning -- no button for triggering reverse geocoding present"),a.geocode()},geoSuccess:function(a){a={lat:a.coords.latitude,lng:a.coords.longitude};this.codeLatLng(a.lat,a.lng)},geoError:function(a){console.error("Ur geolocation error -- Error Getting Your Coordinates!");switch(a.code){case a.TIMEOUT:console.error("Ur geolocation error -- Timeout");break;case a.POSITION_UNAVAILABLE:console.error("Ur geolocation error -- Position unavailable");break;case a.PERMISSION_DENIED:console.error("Ur geolocation error -- Permission denied");
break;case a.UNKNOWN_ERROR:console.error("Ur geolocation error -- Unknown error")}this.errorCallback!==void 0&&eval(this.errorCallback)},geoDenied:function(){console.error("Ur geolocation error -- User Denied Geolocation")},codeLatLng:function(d,f){var l=new google.maps.LatLng(d,f),j=this;c.geocode({latLng:l},function(c,d){if(d==google.maps.GeocoderStatus.OK)if(c[1]){b=c;var f=a.elements;for(elm in f)f[elm].localName==="input"?i(elm,b,"input"):i(elm,b,"select");j.callback!==void 0&&eval(j.callback);
return c}else console.error("Geocoder failed due to: "+d)})},geocode:function(){navigator.geolocation&&(c=new google.maps.Geocoder,navigator.geolocation.getCurrentPosition(function(a){return function(b){a.geoSuccess(b)}}(this),function(a){return function(b){a.geoError(b)}}(this),this.geoDenied))}};d.prototype.initialize=function(a){a=x$(a).findElements("reverse-geocode");Ur.Widgets.geocode={};for(var b in a){Ur.Widgets.geocode[b]=new f(a[b]);break}};return d}();Ur.QuickLoaders["input-clear"]=function(){function f(d){var c=x$(d.input),b=x$('<div class="data-ur-input-clear-ex"></div>');b.hide();c.html("after",b);b.on("touchstart",function(){c[0].value=""});b.on("touchend",function(){c[0].focus()});c.on("focus",function(){c[0].value!=""&&b.show()});c.on("keydown",function(){b.show()});c.on("blur",function(){setTimeout(function(){b.hide()},150)})}function i(){}i.prototype.initialize=function(d){e=d=x$(d).findElements("input-clear");Ur.Widgets["input-clear"]=
{};for(var c in d)Ur.Widgets["input-clear"][c]=new f(d[c])};return i}();(function(){function f(b){this.components=b}f.prototype.preferences={threshold:300};f.prototype.release_element=function(b){if(b.hasAttribute("data-ur-ll-src"))var a="src",c="data-ur-ll-src",d=b.getAttribute(c);else if(b.hasAttribute("data-ur-ll-href"))a="href",c="data-ur-ll-href",d=b.getAttribute();else return;b.removeAttribute(c);b.setAttribute(a,d)};f.prototype.components={};f.prototype.release_group=function(b){for(var a in b)b[a][1]!="scroll"?f.prototype.release_element(b[a][0]):i(b[a][0])==
!0&&f.prototype.release_element(b[a][0])};var i=function(b){var a=window.innerHeight+window.pageYOffset,c=function(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent)}return[b,curtop]}(b);return a>=c[1]-b.offsetHeight-f.prototype.preferences.threshold},d=function(b){for(var a in b)switch(a){case "scroll":x$(window).on(a,function(){f.prototype.release_group(b.scroll,"scroll")});break;case "load":x$(window).on(a,function(){f.prototype.release_group(b.load)});
break;case "DOMContentLoaded":f.prototype.release_group(b.DOMContentLoaded);break;case "click":case "touch":x$("html").on(a,function(a){var b=a.target.getAttribute("data-ur-ll-event");(b=="click"||b=="touch")&&f.prototype.release_element(a.target)})}},c=function(){var b={},a=[],c;x$(document).find("[data-ur-ll-href],[data-ur-ll-src]").each(function(){c=this.getAttribute("data-ur-ll-event");c===null&&(c="DOMContentLoaded");b[c]=[];a.push([this,c])});for(var d in a)a[d][1]!==void 0&&b[a[d][1]].push(a[d]);
return b};f.prototype.initialize=function(){var b=c(),b=new f(b);d(b.components);Ur.Widgets.late_load=b};return Ur.QuickLoaders.late_load=f})();Ur.QuickLoaders.map=function(){function f(b,a){this.threshold=b;this.count=0;this.callbacks=[];a!==void 0&&this.callbacks.push(a)}function i(b){this.elements=b;this.fetch_map()}function d(){}f.prototype.finish=function(){this.count+=1;if(this.count==this.threshold)for(var b=this.callbacks.pop();b;)b(),b=this.callbacks.pop()};i.prototype={marker_clicked:function(b,a){x$().iterate(this.elements.descriptions,function(b,c){c==a?x$(b).attr("data-ur-state","enabled"):x$(b).attr("data-ur-state","disabled")})},
fetch_coordinates:function(){this.coordinates=[];this.center=[0,0];this.lat_range={};this.lng_range={};var b=new google.maps.Geocoder,a=this,c=new f(this.elements.addresses.length,function(a){return function(){a.setup_map()}}(this));x$(this.elements.addresses).each(function(d,f){var d=d.innerText,i=d.match(/(\S.*\S)[$\s]/m)[1];i==void 0&&(i=d);b.geocode({address:i},function(b,i){var j=null;if(i===google.maps.GeocoderStatus.OK){j=b[0].geometry.location;a.coordinates[f]=j;a.center[0]+=j.lat();a.center[1]+=
j.lng();var j=b[0].geometry.viewport.getNorthEast(),k=b[0].geometry.viewport.getSouthWest();if(a.lat_range.min&&a.lat_range.min>k.lat()||a.lat_range.min===void 0)a.lat_range.min=k.lat();if(a.lat_range.max&&a.lat_range.max<k.lat()||a.lat_range.max===void 0)a.lat_range.max=j.lat();if(a.lng_range.min&&a.lng_range.min>k.lng()||a.lng_range.min===void 0)a.lng_range.min=k.lng();if(a.lng_range.max&&a.lng_range.max<k.lng()||a.lng_range.max===void 0)a.lng_range.max=j.lng();c.finish()}else console.error("Error geocoding address: "+
d)})})},add_coordinates:function(){var b=this,a=x$(this.elements.icon).attr("data-ur-url")[0],c=x$(this.elements.icon).attr("data-ur-width")[0],d=x$(this.elements.icon).attr("data-ur-height")[0],f=null;c!==void 0&&d!==void 0&&(f=new google.maps.Size(parseInt(c),parseInt(d)));x$().iterate(b.coordinates,function(c,d){var h=null;a!==void 0&&(h=new google.maps.MarkerImage(a,null,null,null,f));h=new google.maps.Marker({position:c,map:b.map,icon:h});google.maps.event.addListener(h,"click",function(a){return function(c){b.marker_clicked(c,
a)}}(d))})},setup_user_location:function(){var b=this.elements.user_location;this.user_location_marker=null;if(b!==void 0){var a=this;x$(b).on("click",function(){a.toggle_user_location()});x$(b).attr("data-ur-state")[0]==="enabled"&&this.fetch_user_location()}},fetch_user_location:function(){var b=function(a){return function(b){a.add_user_location(b)}}(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(b,function(){console.error("Ur : Error getting user location")}):console.error("Ur : Geolocation services not available")},
add_user_location:function(b){b=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);this.user_location_marker=new google.maps.Marker({position:b,map:this.map,icon:"//s3.amazonaws.com/moovweb-live-resources/map/dot-blue.png"});x$(this.elements.user_location).attr("data-ur-state","enabled")},toggle_user_location:function(){this.user_location_marker===null||this.user_location_marker===void 0?this.fetch_user_location():(this.user_location_marker.setMap(null),delete this.user_location_marker,
x$(this.elements.user_location).attr("data-ur-state","disabled"))},fetch_map:function(){var b=document.createElement("script");setup_uranium_map=function(a){return function(){a.fetch_coordinates()}}(this);b.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=setup_uranium_map";this.elements.set.appendChild(b)},setup_map:function(){this.center[0]/=this.elements.addresses.length;this.center[1]/=this.elements.addresses.length;var b={center:new google.maps.LatLng(this.center[0],this.center[1]),
mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.elements.canvas,b);var b=new google.maps.LatLng(this.lat_range.min,this.lng_range.min),a=new google.maps.LatLng(this.lat_range.max,this.lng_range.max);this.map.fitBounds(new google.maps.LatLngBounds(b,a));this.add_coordinates();this.setup_user_location()}};var c={address:function(b,a){b.addresses===void 0&&(b.addresses=[]);b.addresses.push(a)},description:function(b,a){b.descriptions===void 0&&(b.descriptions=[]);b.descriptions.push(a)}};
d.prototype.initialize=function(b){b=x$(b).findElements("map",c);Ur.Widgets.map={};for(var a in b){Ur.Widgets.map[a]=new i(b[a]);break}};return d}();Ur.QuickLoaders["select-buttons"]=function(){function f(d){this.select=d.select;this.increment=d.increment;this.decrement=d.decrement;this.initialize()}function i(){}f.prototype.initialize=function(){x$(this.increment).click(function(d){return function(c){d.trigger_option(c,1)}}(this));x$(this.decrement).click(function(d){return function(c){d.trigger_option(c,-1)}}(this))};f.prototype.trigger_option=function(d,c){if(x$(d.currentTarget).attr("data-ur-state")[0]==="disabled")return!1;var b={},a=this.select.value,
f={prev:null,next:null};x$().iterate(this.select.children,function(c,d){x$(c).attr("value")[0]==a&&(b={element:c,index:d});typeof b.index=="undefined"&&(f.prev=x$(c).attr("value")[0]);d==b.index+1&&(f.next=x$(c).attr("value")[0])});var g=this.select.children.length,i=b.index+c;i==0?x$(this.decrement).attr("data-ur-state","disabled"):x$(this.decrement).attr("data-ur-state","enabled");i==g-1?x$(this.increment).attr("data-ur-state","disabled"):x$(this.increment).attr("data-ur-state","enabled");if(i<
0||i==g)return!1;this.select.value=f[c==1?"next":"prev"];return!0};i.prototype.initialize=function(d){var d=x$(d).findElements("select-buttons"),c;for(c in d)new f(d[c]),x$(d[c].set).attr("data-ur-state","enabled")};return i}();Ur.QuickLoaders["select-list"]=function(){function f(c,b){this.select=c;this.list=b;this.initialize()}function i(c,b){var a="";x$().iterate(c.list.children,function(c){var d=c.getAttribute("value"),f=b.getAttribute("value");d==f?(x$(c).attr("data-ur-state","enabled"),a=x$(c).attr("value")):x$(c).attr("data-ur-state","disabled")});return a}function d(){this.SelectLists={}}f.prototype.initialize=function(){x$(this.list).click(function(c){return function(b){c.trigger_option(b)}}(this))};f.prototype.trigger_option=
function(c){this.select.value=i(this,c.target);return!0};d.prototype.initialize=function(c){var c=x$(c).findElements("select-list"),b;for(b in c){var a=c[b];this.SelectLists[b]=new f(c[b].select,c[b].content);x$(a.set).attr("data-ur-state","enabled");a=this.SelectLists[b];i(a,a.select.children[a.select.options.selectedIndex])}};return d}();Ur.QuickLoaders.SwipeToggle=function(){function f(d){var c=this,b={},a=this.preferences={dots:!1,axis:"x",swipeUpdate:!0,sensitivity:10,loop:!0,touchbuffer:20,tapActive:!1,touch:!0,jump:1,loop:!0,autoSpeed:500},h=this.flags={touched:!1,autoID:null},g=endPos=markerPos={x:0,y:0,time:0},i=function(a){var b=document.createEvent("Event");b.initEvent("loaded",!1,!0);a.dispatchEvent(b)},j=function(){var a=c.preferences.touch;q.addEventListener("touchstart",function(c){a==!0&&b.start(c,this)},!1);q.addEventListener("touchmove",
function(c){a==!0&&b.move(c,this)},!1);q.addEventListener("touchend",function(c){a==!0&&b.end(c,this)},!1)};f.prototype.getActive=function(){return x$('[data-ur-id="'+this.components.name+'"][data-ur-swipe-toggle-component="slider"] > [data-ur-state="active"]')[0]};f.prototype.next=function(){for(var a=this.getActive(),b=this.preferences.jump,c=a.parentNode.children,d=0;d<b;d++)(a.nextElementSibling===null?!1:!0)==!0?a=this.setActive(a.nextElementSibling):(a.nextElementSibling===null?!1:!0)==!1&&
this.preferences.loop==!0&&this.setActive(c[0]);return a};f.prototype.prev=function(){for(var a=this.getActive(),b=this.preferences.jump,c=a.parentNode.children,d=c.length-1,f=0;f<b;f++)(a.previousElementSibling===null?!1:!0)==!0?a=this.setActive(a.previousElementSibling):(a.previousElementSibling===null?!1:!0)==!1&&this.preferences.loop==!0&&this.setActive(c[d]);return a};b={start:function(a){h.touched=!0;markerPos=g={x:a.touches[0].clientX,y:a.touches[0].clientY,time:a.timeStamp}},move:function(a){endPos=
{x:a.touches[0].clientX,y:a.touches[0].clientY};c.preferences.swipeUpdate==!0&&(endPos[o]+c.preferences.sensitivity<markerPos[o]&&(c.next(),markerPos=endPos,a.stopPropagation(),a.preventDefault()),endPos[o]-c.preferences.sensitivity>markerPos[o]&&(c.prev(),markerPos=endPos,a.stopPropagation(),a.preventDefault()))}};b.end=function(d){endPos.time=d.timeStamp;var f;f=a?a.touchbuffer:0;f=g[o]<endPos[o]-f?1:g[o]>endPos[o]+f?2:3;d=d.target;f==1?c.prev():f==2?c.next():d.parentNode==q&&c.setActive(d);b.clear()};
b.clear=function(){g={};endPos={};markerPos={}};var m=function(a){var a=a===void 0?c.components.slider:a,b=a.children.length,d=0;if(b>d)for(;d<b;d++)if(a.children[d].getAttribute("data-ur-state")=="active")break;return d};f.prototype.autoScroll=function(a){var b=this.components.slider.children.length,c=this;window.clearInterval(this.flags.autoID);a=="next"||a=="prev"||(console.log("swipe_toggle: impropper autoScroll direction setting"),a="next");this.flags.autoID=window.setInterval(function(){var d=
m();if(c.preferences.loop==!1&&d+1==b||h.touched==!0)window.clearInterval(c.flags.autoID);else c[a]()},this.preferences.autoSpeed)};f.prototype.dots=function(){var a=m(this.components.slider),b=this.components.name,c=this.components.slider,d=x$(c)[0].children.length-1,f=document.createElement("div");f.setAttribute("class","mw_"+b+"_dots mw_swipe_dots");for(b=0;b<d+1;b++)tempDivHolder=document.createElement("div"),tempDivHolder.id="mw_image_dot"+(b+1),f.appendChild(tempDivHolder);f.children[0]!==void 0&&
f.children[a].setAttribute("mw_swipe_toggle_dot","active");x$(c).after(f);c.addEventListener("update",function(a){for(var a=m(a.slider),b=0;b<d+1;b++)f.children[b].setAttribute("mw_swipe_toggle_dot","");f.children[a].setAttribute("mw_swipe_toggle_dot","active")})};f.prototype.autoPopulate=function(a,b){var c=this.components.slider;if(a===void 0)console.warn("Swipe Toggle: no items listed");else if(b=="top"||b=="bottom"){for(var d in a)x$(c)[b](a[d]);this.setActive(this.components.slider.children[0])}};
if(d!==void 0){this.components=d;var q=this.components.slider;x$(d.next).on("click",function(a){Ur.Widgets.SwipeToggle[c.components.name].next(a)});x$(d.prev).on("click",function(a){Ur.Widgets.SwipeToggle[c.components.name].prev(a)});this.components.slider.children[0]!==void 0&&this.setActive(this.getActive());var o=this.preferences.axis;o=="x"||o=="Y"||Ur.error("incorrect axis set");j();this.preferences.dots==!0&&this.dots();i(this.components.slider)}}f.prototype.components={};f.prototype.setActive=
function(d){var c,b=d.parentNode,a=b.children.length,f=d.previousElementSibling,g=d.nextElementSibling;if(d.nodeType==1&&b==b){d.setAttribute("data-ur-state","active");for(c=0;c<=a;c++)if(f===null||f===void 0)break;else f.setAttribute("data-ur-state","prev"+(c+1)),f=f.previousElementSibling;for(c=0;c<=a;c++)if(g===null||g===void 0)break;else g.setAttribute("data-ur-state","next"+(c+1)),g=g.nextElementSibling}(function(a,b){var c=document.createEvent("Event");c.initEvent("update",!1,!0);c.active=a;
c.slider=a.parentNode;c.activeElement=a;b.dispatchEvent(c)})(d,b);return d};var i=function(d){var d=x$(d).findElements("swipe-toggle"),c;for(c in d){var b=d[c];b.name=c;if(b.slider===void 0)Ur.error("no slider found for toggler with id = "+c);else if(b.slider.children[0]===void 0)Ur.warn("no children in slider: "+b);else if(b.slider.active=x$(b.slider).find("[data-ur-state='active']")[0],Ur.warn("no active element found for toggler with id = "+c),b.slider.active===void 0)console.log("no active element in slider: "+
c),b.slider.active=b.slider.children[0],b.slider.active.setAttribute("data-ur-state","active"),console.log("set active element")}return d};f.prototype.initialize=function(d){d=i(d);Ur.Widgets.SwipeToggle={};var c=function(a){var b=document.createEvent("Event");b.initEvent("preferences",!1,!0);a.components.slider.dispatchEvent(b)},b;for(b in d)Ur.Widgets.SwipeToggle[b]=new f(d[b]),c(Ur.Widgets.SwipeToggle[b]);return d};return new f};Ur.QuickLoaders.tabs=function(){function f(c){this.elements=c;this.setup_callbacks()}function i(){}f.prototype.setup_callbacks=function(){var c=null,b;for(b in this.elements.buttons){var a=this.elements.buttons[b],d=this.elements.contents[b];c===null&&(c=b);if(d===void 0){Ur.error("no matching tab content for tab button");break}d=x$(a).attr("data-ur-state")[0];d!==void 0&&d=="enabled"&&(c=-1);var f=x$(this.elements.set).attr("data-ur-closeable")[0],f=f!==void 0&&f=="true"?!0:!1,i=this;x$(a).on("click",
function(a){var b=a.target.offsetTop-document.body.scrollTop,c=x$(a.currentTarget).attr("data-ur-tab-id")[0],d;for(d in i.elements.buttons){var h=i.elements.buttons[d],p=i.elements.contents[d];if(d!==c)x$(h).attr("data-ur-state","disabled"),x$(p).attr("data-ur-state","disabled");else{var n="enabled";f&&(n=x$(h).attr("data-ur-state")[0],n=n===void 0?"disabled":n,n=n=="enabled"?"disabled":"enabled");x$(h).attr("data-ur-state",n);x$(p).attr("data-ur-state",n)}}a=a.target.offsetTop-document.body.scrollTop;
a<=0&&window.scrollBy(0,a-b)})}};var d={button:function(c,b){c.buttons===void 0&&(c.buttons={});var a=x$(b).attr("data-ur-tab-id")[0];a===void 0?Ur.error("tab defined without a tab-id"):c.buttons[a]=b},content:function(c,b){c.contents===void 0&&(c.contents={});var a=x$(b).attr("data-ur-tab-id")[0];a===void 0?Ur.error("tab defined without a tab-id"):c.contents[a]=b}};i.prototype.initialize=function(c){c=x$(c).findElements("tabs",d);Ur.Widgets.tabs={};for(var b in c)Ur.Widgets.tabs[b]=new f(c[b])};
return i}();Ur.QuickLoaders.toggler=function(){function f(d,c){d.content===void 0&&(d.content=[]);d.content.push(c)}function i(){this.component_constructors={content:f}}i.prototype.find=function(d){var d=x$(d).findElements("toggler",this.component_constructors),c;for(c in d){var b=d[c];if(b.button===void 0)Ur.error("no button found for toggler with id="+c);else{var a=x$(b.button).attr("data-ur-state")[0];a===void 0&&(x$(b.button).attr("data-ur-state","disabled"),a="disabled");b.content===void 0?Ur.error("no content found for toggler with id="+
c):x$().iterate(b.content,function(b){x$(b).attr("data-ur-state")[0]===void 0&&x$(b).attr("data-ur-state",a)})}}return d};i.prototype.construct_button_callback=function(d,c){return function(b){var b=b.currentTarget,a=x$(b).attr("data-ur-state")[0]==="enabled"?"disabled":"enabled";x$(b).attr("data-ur-state",a);x$(c).attr("data-ur-state",a);x$().iterate(d,function(a){var b=x$(a).attr("data-ur-state")[0]==="enabled"?"disabled":"enabled";x$(a).attr("data-ur-state",b)})}};i.prototype.initialize=function(d){var d=
this.find(d),c;for(c in d){var b=d[c];x$(b.button).click(this.construct_button_callback(b.content,b.set));x$(b.set).attr("data-ur-state","enabled")}};return i}();Ur.QuickLoaders["zoom-preview"]=function(){function f(c){this.elements=c.elements;this.modifier={};if(c.modifier!==null)this.modifier=c.modifier;this.dimensions={};this.zoom=!1;this.update();this.events={start:"touchstart",move:"touchmove",end:"touchend"};this.touch=xui.touch;if(!this.touch)this.events={move:"mousemove",end:"mouseout"};this.initialize();console.log("Zoom Preview Loaded")}function i(){}f.prototype.rewrite_images=function(c,b,a){if(typeof c=="undefined")return!1;if(b===void 0&&a===
void 0)b=this.modifier.zoom_image.match,a=this.modifier.zoom_image.replace;this.elements.zoom_image.src=c.replace(b,a);b=a=null;if(this.modifier.button)b=this.modifier.button.match,a=this.modifier.button.replace;this.elements.button.src=b&&a?this.elements.zoom_image.src.replace(b,a):this.elements.zoom_image.src;var d=this;this.elements.zoom_image.style.visibility="hidden";x$(this.elements.zoom_image).on("load",function(){d.update()});x$(this.elements.button).on("load",function(){x$(d.elements.button).addClass("loaded")})};
f.prototype.update=function(){var c=this;x$().iterate(["button","zoom_image","container"],function(a){c.dimensions[a]=[c.elements[a].offsetWidth,c.elements[a].offsetHeight]});var b=x$(this.elements.button).offset(),b=[b.left,b.top];this.button_center=[this.dimensions.button[0]/2+b[0],this.dimensions.button[1]/2+b[1]];this.image_origin=[-0.5*this.dimensions.zoom_image[0],-0.5*this.dimensions.zoom_image[1]]};f.prototype.get_event_coordinates=function(c){if(this.touch){if(c.touches.length==1)return[c.touches[0].pageX,
c.touches[0].pageY]}else return[c.pageX,c.pageY]};f.prototype.initialize=function(){x$(this.elements.button).on(this.events.move,function(c){return function(b){c.scroll_zoom(b)}}(this));x$(this.elements.button).on(this.events.end,function(c){return function(b){c.scroll_end(b)}}(this));if(this.events.start)x$(this.elements.button).on("touchstart",function(){return function(c){c.preventDefault()}}(this));x$(this.elements.thumbnails).click(function(c){return function(b){if(b.target.tagName!="IMG")return!1;
c.rewrite_images(b.target.src)}}(this));this.normal_image_changed()};f.prototype.normal_image_changed=function(c){c!==void 0&&(this.elements.normal_image=c);img=x$(this.elements.normal_image);this.rewrite_images(img.attr("src")[0],this.modifier.normal_image.match,this.modifier.normal_image.replace)};f.prototype.scroll_end=function(){this.elements.zoom_image.style.visibility="hidden"};f.prototype.scroll_zoom=function(c){this.elements.zoom_image.style.visibility="visible";c=this.get_event_coordinates(c);
if(c===null)return!1;c=[(c[0]-this.button_center[0])/this.dimensions.button[0],(c[1]-this.button_center[1])/this.dimensions.button[1]];c=[this.dimensions.zoom_image[0]*c[0],this.dimensions.zoom_image[1]*c[1]];c=[this.image_origin[0]-c[0],this.image_origin[1]-c[1]];c=this.check_bounds(c);this.elements.zoom_image.style.webkitTransform="translate3d("+c[0]+"px,"+c[1]+"px,0px)"};f.prototype.check_bounds=function(c){var b=[this.dimensions.container[0]-this.dimensions.zoom_image[0],this.dimensions.container[1]-
this.dimensions.zoom_image[1]];x$().iterate([0,1],function(a){c[a]>=0&&(c[a]=0);c[a]<=b[a]&&(c[a]=b[a])});return c};var d={_modifiers:function(c,b,a,d){c.modifier===void 0&&(c.modifier={});var f=d===void 0?"src":"zoom";console.log("searching for modifier:",f,b);d=x$(b).attr("data-ur-"+f+"-modifier-match")[0];b=x$(b).attr("data-ur-"+f+"-modifier-replace")[0];typeof d!="undefined"&&typeof b!="undefined"&&(console.log("found modifiers:",d,b),c.modifier[a]={match:RegExp(d),replace:b})},_construct:function(c,
b,a,d){c.elements===void 0&&(c.elements={});c.elements[a]=b;this._modifiers(c,b,a,d)},normal_image:function(c,b,a){this._construct(c,b,a,"zoom")},zoom_image:function(c,b,a){this._construct(c,b,a)},button:function(c,b,a){this._construct(c,b,a)},container:function(c,b,a){this._construct(c,b,a)},thumbnails:function(c,b,a){this._construct(c,b,a)}};i.prototype.initialize=function(c){this.zoom_previews=x$(c).findElements("zoom-preview",d);Ur.Widgets["zoom-preview"]={};for(var b in this.zoom_previews)Ur.Widgets["zoom-preview"][b]=
new f(this.zoom_previews[b]),x$(this.zoom_previews[b].set).attr("data-ur-state","enabled")};return i}();
