(function(){function d(a){return a.replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()})}function i(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}function c(a){var b=/\S/;a.each(function(a){for(var f=a.firstChild,e=-1,u;f;)u=f.nextSibling,f.nodeType==3&&!b.test(f.nodeValue)?a.removeChild(f):f.nodeIndex=++e,f=u})}function b(a){if(a._xuiEventID)return a._xuiEventID;return a._xuiEventID=++b.id}function a(a,b){var f=q[a]=q[a]||{};return f[b]=f[b]||[]}function e(f,e,c){var g=
b(f),e=a(g,e),g=function(a){c.call(f,a)===!1&&(a.preventDefault(),a.stopPropagation())};g.guid=c.guid=c.guid||++b.id;g.handler=c;e.push(g);return g}function g(a){return(a||"").replace(w,"")}var h,k=this,l=new String("string"),f=k.document,p=/^#?([\w-]+)$/,m=/^#/,j=/<([\w:]+)/,o=function(a){return[].slice.call(a,0)};try{o(f.documentElement.childNodes)}catch(n){o=function(a){for(var b=[],f=0;a[f];f++)b.push(a[f]);return b}}k.x$=k.xui=h=function(a,b){return new h.fn.find(a,b)};if(![].forEach)Array.prototype.forEach=
function(a,b){var f=this.length||0,e=0;if(typeof a=="function")for(;e<f;e++)a.call(b,this[e],e,this)};h.fn=h.prototype={extend:function(a){for(var b in a)h.fn[b]=a[b]},find:function(a,b){var e=[],g;if(a)if(b==void 0&&this.length)e=this.each(function(b){e=e.concat(o(h(a,b)))}).reduce(e);else if(b=b||f,typeof a==l)p.test(a)&&b.getElementById&&b.getElementsByTagName?(e=m.test(a)?[b.getElementById(a.substr(1))]:b.getElementsByTagName(a),e[0]==null&&(e=[])):j.test(a)?(g=f.createElement("i"),g.innerHTML=
a,o(g.childNodes).forEach(function(a){e.push(a)})):e=k.Sizzle!==void 0?Sizzle(a,b):b.querySelectorAll(a),e=o(e);else if(a instanceof Array)e=a;else if(a.nodeName||a===k)e=[a];else{if(a.toString()=="[object NodeList]"||a.toString()=="[object HTMLCollection]"||typeof a.length=="number")e=o(a)}else return this;return this.set(e)},set:function(a){var b=h();b.cache=o(this.length?this:[]);b.length=0;[].push.apply(b,a);return b},reduce:function(a,b){var f=[],a=a||o(this);a.forEach(function(a){f.indexOf(a,
0,b)<0&&f.push(a)});return f},has:function(a){var b=h(a);return this.filter(function(){var a=this,f=null;b.each(function(b){f=f||b==a});return f})},filter:function(a){var b=[];return this.each(function(f,e){a.call(f,e)&&b.push(f)}).set(b)},not:function(a){var b=o(this),f=h(a);if(!f.length)return this;return this.filter(function(a){var e;f.each(function(f){return e=b[a]!=f});return e})},each:function(a){for(var b=0,f=this.length;b<f;++b)if(a.call(this[b],this[b],b,this)===!1)break;return this}};h.fn.find.prototype=
h.fn;h.extend=h.fn.extend;h.extend({html:function(a,b){c(this);if(arguments.length==0){var e=[];this.each(function(a){e.push(a.innerHTML)});return e}arguments.length==1&&arguments[0]!="remove"&&(b=a,a="inner");if(a!="remove"&&b&&b.each!==void 0){if(a=="inner"){var g=f.createElement("p");b.each(function(a){g.appendChild(a)});this.each(function(a){a.innerHTML=g.innerHTML})}else{var j=this;b.each(function(b){j.html(a,b)})}return this}return this.each(function(e){var g,c=0;if(a=="inner")if(typeof b==
l||typeof b=="number"){e.innerHTML=b;e=e.getElementsByTagName("SCRIPT");for(g=e.length;c<g;c++)eval(e[c].text)}else e.innerHTML="",e.appendChild(b);else if(a=="remove")e.parentNode.removeChild(e);else{c=b;["outer","top","bottom"].indexOf(a);typeof c==l?(g=f.createElement("div"),g.innerHTML=c):(g=f.createElement("div"),g.appendChild(c));c=g;g=c.childNodes;a=="outer"?e.parentNode.replaceChild(c,e):a=="top"?e.insertBefore(c,e.firstChild):a=="bottom"?e.insertBefore(c,null):a=="before"?e.parentNode.insertBefore(c,
e):a=="after"&&e.parentNode.insertBefore(c,e.nextSibling);for(e=c.parentNode;g.length;)e.insertBefore(g[0],c);e.removeChild(c)}})},attr:function(a,b){if(arguments.length==2)return this.each(function(f){f.tagName&&f.tagName.toLowerCase()=="input"&&a=="value"?f.value=b:f.setAttribute&&(a=="checked"&&(b==""||b==!1||typeof b=="undefined")?f.removeAttribute(a):f.setAttribute(a,b))});else{var f=[];this.each(function(b){b.tagName&&b.tagName.toLowerCase()=="input"&&a=="value"?f.push(b.value):b.getAttribute&&
b.getAttribute(a)&&f.push(b.getAttribute(a))});return f}}});"inner outer top bottom remove before after".split(" ").forEach(function(a){h.fn[a]=function(a){return function(b){return this.html(a,b)}}(a)});h.events={};var q={};h.extend({on:function(f,g,c){return this.each(function(j){if(h.events[f]){var d=b(j),d=a(d,f);c=c||{};c.handler=function(a,b){h.fn.fire.call(h(this),f,b)};d.length||h.events[f].call(j,c)}j.addEventListener(f,e(j,f,g),!1)})},un:function(f,e){return this.each(function(c){for(var g=
b(c),j=a(g,f),h=j.length;h--;)if(e===void 0||e.guid===j[h].guid){c.removeEventListener(f,j[h],!1);var d=q[g][f],p=h,o=d.slice(2);d.length=p<0?d.length+p:p;d.push.apply(d,o)}q[g][f].length===0&&delete q[g][f];for(var m in q[g])return;delete q[g]})},fire:function(a,b){return this.each(function(e){if(e==f&&!e.dispatchEvent)e=f.documentElement;var g=f.createEvent("HTMLEvents");g.initEvent(a,!0,!0);g.data=b||{};g.eventName=a;e.dispatchEvent(g)})}});"click load submit touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend orientationchange".split(" ").forEach(function(a){h.fn[a]=
function(a){return function(b){return b?this.on(a,b):this.fire(a)}}(a)});h(k).on("load",function(){"onorientationchange"in f.body||function(a,b){h(k).on("resize",function(){var f=k.innerWidth<a&&k.innerHeight>b&&k.innerWidth<k.innerHeight,e=k.innerWidth>a&&k.innerHeight<b&&k.innerWidth>k.innerHeight;if(f||e)k.orientation=f?0:90,h("body").fire("orientationchange"),a=k.innerWidth,b=k.innerHeight})}(k.innerWidth,k.innerHeight)});var r;try{r=!!f.createEvent("TouchEvent").initTouchEvent}catch(t){r=!1}h.touch=
r;h.ready=function(a){domReady(a)};b.id=1;h.extend({tween:function(a,b){var f=function(){var b={};"duration after easing".split(" ").forEach(function(f){a[f]&&(b[f]=a[f],delete a[f])});return b}(a),e=function(a){var b=[],f;if(typeof a!=l){for(f in a)b.push(i(f)+":"+a[f]);b=b.join(";")}else b=a;return b}(a);return this.each(function(a){emile(a,e,f,b)})}});var w=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;h.extend({setStyle:function(a,b){a=d(a);return this.each(function(f){f.style[a]=b})},getStyle:function(a,b){if(b===
void 0){var e=[];this.each(function(b){e.push(f.defaultView.getComputedStyle(b,"").getPropertyValue(i(a)))});return e}else return this.each(function(e){b(f.defaultView.getComputedStyle(e,"").getPropertyValue(i(a)))})},addClass:function(a){var b=a.split(" ");return this.each(function(a){b.forEach(function(b){if(s(b).test(a.className)===!1)a.className=g(a.className+" "+b)})})},hasClass:function(a,b){var f=this,e=a.split(" ");return this.length&&function(){var a=!0;f.each(function(f){e.forEach(function(e){s(e).test(f.className)?
b&&b(f):a=!1})});return a}()},removeClass:function(a){if(a===void 0)this.each(function(a){a.className=""});else{var b=a.split(" ");this.each(function(a){b.forEach(function(b){a.className=g(a.className.replace(s(b),"$1"))})})}return this},toggleClass:function(a){var b=a.split(" ");return this.each(function(a){b.forEach(function(b){a.className=s(b).test(a.className)?g(a.className.replace(s(b),"$1")):g(a.className+" "+b)})})},css:function(a){for(var b in a)this.setStyle(b,a[b]);return this}});var v=
{},s=function(a){var b=v[a];b||(b=RegExp("(^|\\s+)"+a+"(?:\\s+|$)"),v[a]=b);return b};h.extend({xhr:function(a,b,f){function e(){j.readyState==4&&(delete c.xmlHttpRequest,(j.status===0||j.status==200)&&j.handleResp(),/^[45]/.test(j.status)&&j.handleError())}/^(inner|outer|top|bottom|before|after)$/.test(a)||(f=b,b=a,a="inner");var g=f?f:{};if(typeof f=="function")g={},g.callback=f;var c=this,j=new XMLHttpRequest,f=g.method||"get",h=typeof g.async!="undefined"?g.async:!0,d=g.data||null,p;j.queryString=
d;j.open(f,b,h);j.setRequestHeader("X-Requested-With","XMLHttpRequest");f.toLowerCase()=="post"&&j.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(p in g.headers)g.headers.hasOwnProperty(p)&&j.setRequestHeader(p,g.headers[p]);j.handleResp=g.callback!=null?g.callback:function(){c.html(a,j.responseText)};j.handleError=g.error&&typeof g.error=="function"?g.error:function(){};if(h)j.onreadystatechange=e,this.xmlHttpRequest=j;j.send(d);h||e();return this}});(function(a,b){function e(a,
b,f){return(a+(b-a)*f).toFixed(3)}function g(a,b,f){for(var e=2,c,j,h=[],d=[];c=3,j=arguments[e-1],e--;)if(j.substr(0,1)=="r")for(j=j.match(/\d+/g);c--;)h.push(~~j[c]);else for(j.length==4&&(j="#"+j.substr(1,1)+j.substr(1,1)+j.substr(2,1)+j.substr(2,1)+j.substr(3,1)+j.substr(3,1));c--;)h.push(parseInt(j.substr(1+c*2,2),16));for(;c--;)e=~~(h[c+3]+(h[c]-h[c+3])*f),d.push(e<0?0:e>255?255:e);return"rgb("+d.join(",")+")"}function c(a){var b=parseFloat(a),a=a.replace(/^[\-\d\.]+/,"");return isNaN(b)?{v:a,
f:g,u:""}:{v:b,f:e,u:a}}function j(a){var b={},f=d.length,e;h.innerHTML='<div style="'+a+'"></div>';for(a=h.childNodes[0].style;f--;)if(e=a[d[f]])b[d[f]]=c(e);return b}var h=f.createElement("div"),d="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
b[a]=function(a,b,e,g){var a=typeof a=="string"?f.getElementById(a):a,e=e||{},h=j(b),b=a.currentStyle?a.currentStyle:getComputedStyle(a,null),d,p={},o=+new Date,m=e.duration||200,i=o+m,k,l=e.easing||function(a){return-Math.cos(a*Math.PI)/2+0.5};for(d in h)p[d]=c(b[d]);k=setInterval(function(){var b=+new Date,f=b>i?1:(b-o)/m;for(d in h)a.style[d]=h[d].f(p[d].v,h[d].v,l(f))+h[d].u;b>i&&(clearInterval(k),e.after&&e.after(),g&&setTimeout(g,1))},10)}})("emile",this);(function(a,b){function f(a){for(d=
1;a=e.shift();)a()}var e=[],g,c,j=b.documentElement,h=j.doScroll,d=/^loade|c/.test(b.readyState);b.addEventListener&&b.addEventListener("DOMContentLoaded",c=function(){b.removeEventListener("DOMContentLoaded",c,!1);f()},!1);h&&b.attachEvent("onreadystatechange",g=function(){/^c/.test(b.readyState)&&(b.detachEvent("onreadystatechange",g),f())});a.domReady=h?function(b){self!=top?d?b():e.push(b):function(){try{j.doScroll("left")}catch(f){return setTimeout(function(){a.domReady(b)},50)}b()}()}:function(a){d?
a():e.push(a)}})(this,f)})();typeof Ur=="undefined"&&(Ur={QuickLoaders:{},WindowLoaders:{},Widgets:{},onLoadCallbacks:[],setup:function(d){Ur.initialize({type:"DOMContentLoaded"},d);Ur.loaded?Ur.initialize({type:"load"},d):window.addEventListener("load",function(i){Ur.initialize(i,d)},!1)},initialize:function(d,i){var c=d.type=="DOMContentLoaded"?Ur.QuickLoaders:Ur.WindowLoaders;if(i===void 0)i=document.body;for(var b in c)(new c[b]).initialize(i);if(d.type=="load")Ur.loaded=!0,Ur._onLoad()},_onLoad:function(){x$().iterate(Ur.onLoadCallbacks,
function(d){d()})},loaded:!1});window.addEventListener("load",Ur.initialize,!1);window.addEventListener("DOMContentLoaded",Ur.initialize,!1);
var mixins={iterate:function(d,i){if(d!==void 0){var c=d.length||0,b=0;if(typeof i=="function")for(;b<c;b++)i.call(i,d[b],b,d)}},offset:function(d){typeof(d=="undefined")&&(d=this[0]);for(cumulative_left=cumulative_top=0;d.offsetParent;)cumulative_top+=d.offsetTop,cumulative_left+=d.offsetLeft,d=d.offsetParent;return{left:cumulative_left,top:cumulative_top}},find_next_ancestor:function(d,i){return d.parentNode!=window.document?x$().find_set_ancestor(d.parentNode,i):null},find_set_ancestor:function(d,
i){var c=x$(d).attr("data-ur-set")[0];return c!==void 0?i==void 0?d:c==i?d:x$().find_next_ancestor(d,i):x$().find_next_ancestor(d,i)},get_unique_uranium_id:function(){var d=0;return function(){d+=1;return d}}(),find_elements:function(d,i){var c={};this.each(function(b,a,e){return function(){x$().helper_find(this,b,a,e)}}(d,i,c));return c},helper_find:function(d,i,c,b){x$(d).find("*[data-ur-"+i+"-component]").each(function(){var a=!0,e=x$(this).attr("data-ur-id")[0];if(e!==void 0)b[e]===void 0&&(b[e]=
{});else{var g=x$().find_set_ancestor(this,i);if(x$(g).attr("data-ur-state")[0]==="disabled"&&Ur.loaded==!1)return;g!==null?(e=x$(g).attr("data-ur-id")[0],e===void 0&&(e=x$().get_unique_uranium_id(),x$(g).attr("data-ur-id",e)),b[e]===void 0&&(b[e]={}),b[e].set=g):(console.log("Uranium Error: Couldn't find associated ur-set for component:",this),a=!1)}g=x$(this).attr("data-ur-"+i+"-component");g===void 0&&(a=!1);if(a)if(c!==void 0&&c[g]!==void 0)c[g](b[e],this,g);else b[e][g]=this});return b}};xui.extend(mixins);Ur.WindowLoaders.carousel=function(){function d(a){this.container=a.view_container;this.items=a.scroll_container;if(this.items.length==0)return console.log("Error -- carousel missing item components"),!1;this.button=a.button===void 0?{}:a.button;this.count=a.count;this.multi=x$(a.view_container).attr("data-ur-type")[0]=="multi";this.vertical_scroll=x$(a.set).attr("data-ur-vertical-scroll")[0]==="enabled";this.initialize();this.onSlideCallbacks=[]}function i(a){var a=x$(a),b=0;x$().iterate(["width",
"padding-left","padding-right","margin-left","margin-right","border-left-width","border-right-width"],function(e){b+=parseInt(a.getStyle(e))});return b}function c(a,b){a.style.webkitTransform=a.style.MozTransform=h+b+"px, 0px"+k}function b(){}var a="webkit";navigator.userAgent.match(/Firefox/)&&(a="Moz");var e=navigator.userAgent.match(/Android [12]/),g=e||!window.WebKitCSSMatrix,h=g?"translate(":"translate3d(",k=g?")":", 0px)";d.prototype={initialize:function(){this.container.getAttribute("data-ur-android3d")==
"enabled"&&e&&(h="translate3d(",k=", 0px)");var a=x$(this.container).attr("data-ur-touch")[0],a=a===void 0?!0:a=="enabled"?!0:!1;x$(this.container).attr("data-ur-touch",a?"enabled":"disabled");if(a)x$.touch?(this.touch=!0,x$(this.items).touchstart(function(a){return function(b){a.start_swipe(b)}}(this)),x$(this.items).touchmove(function(a){return function(b){a.continue_swipe(b)}}(this)),x$(this.items).touchend(function(a){return function(b){a.finish_swipe(b)}}(this))):(this.touch=!1,x$(this.items).on("mousedown",
function(a){return function(b){a.start_swipe(b)}}(this)),x$(this.items).on("mousemove",function(a){return function(b){a.continue_swipe(b)}}(this)),x$(this.items).on("mouseup",function(a){return function(b){a.finish_swipe(b)}}(this)));x$(this.button.prev).click(function(a){return function(){a.move_to(a.magazine_count)}}(this));x$(this.button.next).click(function(a){return function(){a.move_to(-a.magazine_count)}}(this));this.item_index=0;this.magazine_count=1;this.infinite=this.container.getAttribute("data-ur-infinite")!=
"disabled";x$(this.container).attr("data-ur-infinite",this.infinite?"enabled":"disabled");if(this.infinite){a=x$(this.items).find("[data-ur-carousel-component='item']");this.real_item_count=a.length;this.item_index=this.clone_count=2;this.clones=[];for(var b=0;b<this.clone_count;b++){var g=a[b].cloneNode(!1);this.clones.push(g);x$(g).attr("data-ur-clone",b).attr("data-ur-state","inactive");this.items.appendChild(g)}for(b=a.length-this.clone_count;b<a.length;b++)g=a[b].cloneNode(!1),this.clones.push(g),
x$(g).attr("data-ur-clone",b).attr("data-ur-state","inactive"),this.items.insertBefore(g,a[0])}this.adjust_spacing();this.update_index(this.infinite?this.clone_count:0);this.jump_to_index=function(a){return function(b){a.__proto__.move_to_index.call(a,b)}}(this);x$(window).orientationchange(function(a){return function(){a.resize()}}(this));x$(window).on("resize",function(a){return function(){a.resize();setTimeout(function(){a.resize()},100)}}(this));this.flag={touched:!1,timeoutId:null};this.autoscroll=
this.container.getAttribute("data-ur-autoscroll")!="disabled";x$(this.container).attr("data-ur-autoscroll",this.autoscroll?"enabled":"disabled");this.autoscroll_delay=this.container.getAttribute("data-ur-autoscroll-delay");if(this.autoscroll_delay==null)this.autoscroll_delay=5E3,x$(this.container).attr("data-ur-autoscroll-timing",this.autoscroll_delay);this.autoscroll_dir=this.container.getAttribute("data-ur-autoscroll-direction");if(this.autoscroll_dir!="prev")this.autoscroll_dir="next";x$(this.container).attr("data-ur-autoscroll-direction",
this.autoscroll_dir);this.autoscroll_start()},get_transform:function(b){b=getComputedStyle(b)[a+"Transform"];return b!="none"?a=="webkit"?(b=new WebKitCSSMatrix(b),b.m41):parseInt(b.split(",")[4]):(console.log("no webkit transform"),0)},resize:function(){this.snap_width!=this.container.offsetWidth&&this.adjust_spacing()},adjust_spacing:function(){var a=this.container.offsetWidth;if(!(this.old_width!==void 0&&this.old_width==a)){var b=this.snap_width;this.old_width=a;var e=0,g=x$(this.items).find("[data-ur-carousel-component='item']");
this.item_count=g.length;for(var h=0,d=0;d<g.length;d++)h+=i(g[d]);this.items.style.width=h+"px";this.snap_width=a;if(this.multi){var h=i(g[0]),k=Math.floor(a/h);this.magazine_count=k=k>this.item_count?this.item_count:k;var l=a-k*h;this.snap_width=l/(k-1)+h;this.last_index=this.item_count-this.magazine_count}else this.last_index=this.item_count-1;this.item_index=this.last_index<this.item_index?this.last_index:this.item_index;e-=g[this.item_index].offsetLeft;a=parseInt((this.snap_width-i(g[0]))/2);
e+=a;b?(this.destination_offset=e,c(this.items,this.get_transform(this.items)+parseInt((this.snap_width-b)/2))):c(this.items,e);var t=0;this.multi&&(x$().iterate(g,function(a,b){var e=t;b!=0&&(e+=l/(k-1));c(a,e);t=e}),this.update_index(this.item_index))}},autoscroll_start:function(){if(this.autoscroll){var a=this;a.flag.timeoutId=setTimeout(function(){a.move_to(a.autoscroll_dir=="next"?-a.magazine_count:a.magazine_count)},a.autoscroll_delay)}},autoscroll_stop:function(){clearTimeout(this.flag.timeoutId)},
get_event_coordinates:function(a){if(this.touch){if(a.touches.length==1)return{x:a.touches[0].clientX,y:a.touches[0].clientY}}else return{x:a.clientX,y:a.clientY};return null},update_buttons:function(){this.item_index==0?(x$(this.button.prev).attr("data-ur-state","disabled"),x$(this.button.next).attr("data-ur-state","enabled")):(this.item_index==this.last_index?x$(this.button.next).attr("data-ur-state","disabled"):x$(this.button.next).attr("data-ur-state","enabled"),x$(this.button.prev).attr("data-ur-state",
"enabled"))},get_new_index:function(a){a=this.item_index-a;a>this.last_index?a=this.last_index:a<0&&(a=0);return a},update_index:function(a){if(a!==void 0){this.item_index=a;if(this.item_index<0)this.item_index=0;else if(this.item_index>this.last_index)this.item_index=this.last_index-1;if(this.count!==void 0)this.count.innerHTML=this.multi?this.item_index+1+" to "+(this.item_index+this.magazine_count)+" of "+this.item_count:this.infinite?(this.real_item_count+this.item_index-this.clone_count)%this.real_item_count+
1+" of "+this.real_item_count:this.item_index+1+" of "+this.item_count;x$(this.items).find("[data-ur-carousel-component='item'][data-ur-state='active']").attr("data-ur-state","inactive");a=x$(this.items).find("*[data-ur-carousel-component='item']")[this.item_index];x$(a).attr("data-ur-state","active");this.update_buttons()}},start_swipe:function(a){this.flag.touched=!0;a.preventDefault();a.stopPropagation();this.autoscroll_stop();this.touch_in_progress=!0;a=this.get_event_coordinates(a);if(a!==null){var b=
this.get_transform(this.items);this.starting_offset=this.starting_offset===void 0||this.starting_offset===null?b:this.destination_offset;this.start_pos=a}this.click=!0},continue_swipe:function(a){this.vertical_scroll||(a.preventDefault(),a.stopPropagation());if(this.touch_in_progress){a=this.get_event_coordinates(a);if(a!==null)this.end_pos=a,a=this.swipe_dist()+this.starting_offset,c(this.items,a);this.click=!1}},finish_swipe:function(a){this.click?(this.touch_in_progress=!1,this.autoscroll_start()):
(a.preventDefault(),a.stopPropagation(),this.touch_in_progress=!1,(!this.touch||a.touches.length==0)&&this.move_helper(this.get_displacement_index()))},get_displacement_index:function(){var a=this.swipe_dist(),b=0;this.multi?(b=this.magazine_count,b=1/(1+Math.pow(Math.E,-1*a))*b-b/2<=0?Math.floor(1/(1+Math.pow(Math.E,-1*a))*b-b/2):Math.ceil(1/(1+Math.pow(Math.E,-1*a))*b-b/2)):b=a/this.snap_width<=0?Math.floor(a/this.snap_width):Math.ceil(a/this.snap_width);return b},snap_to:function(a){this.destination_offset=
a+this.starting_offset;a=-1*this.last_index*this.snap_width;this.infinite&&(a=-this.items.offsetWidth);if(this.destination_offset<a||this.destination_offset>0)this.destination_offset=Math.abs(this.destination_offset-a)<1?a:this.starting_offset;this.momentum()},move_to:function(a){if(!this.increment_flag)this.starting_offset=this.get_transform(this.items),this.move_helper(a)},move_helper:function(a){this.autoscroll_stop();var a=this.get_new_index(a),b=x$(this.items).find("[data-ur-carousel-component='item']");
if(this.infinite){var e=this.get_transform(this.items);if(a==this.last_index)this.item_index=this.clone_count,a=this.item_index+1,e+=this.clones[0].offsetLeft-b[this.clone_count].offsetLeft,c(this.items,e),this.starting_offset=-b[this.clone_count].offsetLeft,this.starting_offset+=parseInt((this.snap_width-this.clones[0].offsetWidth)/2);else if(a==0)this.item_index=this.last_index-this.clone_count,a=this.item_index-1,e+=b[this.clone_count].offsetLeft-this.clones[0].offsetLeft,c(this.items,e),this.starting_offset=
-b[this.last_index-this.clone_count].offsetLeft,this.starting_offset+=parseInt((this.snap_width-this.clones[0].offsetWidth)/2)}this.snap_to(b[this.item_index].offsetLeft-b[a].offsetLeft);this.update_index(a)},move_to_index:function(a){this.move_to(this.item_index-a)},momentum:function(){if(!this.touch_in_progress){this.increment_flag=!1;var a=this.get_transform(this.items),b=this.destination_offset-a;b-=b/1.1>=0?Math.floor(b/1.1):Math.ceil(b/1.1);Math.abs(b)<0.01&&(b=0);c(this.items,b+a);if(b!=0)this.increment_flag=
!0;if(this.increment_flag)setTimeout(function(a){return function(){a.momentum()}}(this),16);else{this.starting_offset=null;if(this.infinite){if(this.item_index==this.item_count-this.clone_count)this.item_index=this.clone_count;else if(this.item_index==this.clone_count-1)this.item_index=this.last_index-this.clone_count;a=-x$(this.items).find("[data-ur-carousel-component='item']")[this.item_index].offsetLeft;a+=parseInt((this.snap_width-this.clones[0].offsetWidth)/2);c(this.items,a)}this.autoscroll_start();
x$().iterate(this.onSlideCallbacks,function(a){a()})}}},swipe_dist:function(){if(this.end_pos===void 0)return 0;return this.end_pos.x-this.start_pos.x}};var l={button:function(a,b,e){a.button===void 0&&(a.button={});e=x$(b).attr("data-ur-carousel-button-type")[0];e===void 0&&console.log("Uranium declaration error: Malformed carousel button type on:"+b.outerHTML);a.button[e]=b;x$(b).attr("data-ur-state",e=="prev"?"disabled":"enabled")}};b.prototype.initialize=function(a){a=x$(a).find_elements("carousel",
l);Ur.Widgets.carousel={};for(var b in a){var e=a[b];Ur.Widgets.carousel[b]=new d(e);x$(e.set).attr("data-ur-state","enabled")}};return b}();Ur.QuickLoaders["font-resizer"]=function(){function d(c){this.increase=c.increase;this.decrease=c.decrease;this.label=c.label;this.content=c.content;this.initialize()}function i(){}d.prototype.initialize=function(){var c=x$(this.content);this.min=parseInt(c.attr("data-ur-font-resizer-min"))||100;this.max=parseInt(c.attr("data-ur-font-resizer-max"))||200;this.delta=parseInt(c.attr("data-ur-font-resizer-delta"))||20;this.size=parseInt(c.attr("data-ur-font-resizer-size"))||this.min;this.invert=c.attr("data-ur-font-resizer-invert")==
"Bam!"?!0:!1;x$(this.increase).click(function(b){return function(){b.change(1)}}(this));x$(this.decrease).click(function(b){return function(){b.change(-1)}}(this));if(this.invert)this.size=this.min,this.controlSize=this.max,this.increase.style["font-size"]=this.controlSize+"%",this.decrease.style["font-size"]=this.controlSize+"%",this.label.style["font-size"]=this.controlSize+"%";c[0].style["font-size"]=this.size+"%";x$(this.label).inner("Text Size: "+this.size+"%")};d.prototype.change=function(c){if(c==
-1&&this.size>this.min||c==1&&this.size<this.max)this.size+=c*this.delta,this.content.style["font-size"]=this.size+"%",this.label.innerText="Text Size: "+this.size+"%",this.invert&&(this.controlSize+=-c*this.delta,this.increase.style["font-size"]=this.controlSize+"%",this.decrease.style["font-size"]=this.controlSize+"%",this.label.style["font-size"]=this.controlSize+"%")};i.prototype.initialize=function(c){var c=x$(c).find_elements("font-resizer"),b;for(b in c)new d(c[b])};return i}();Ur.QuickLoaders.geocode=function(){function d(a){this.elements=a;this.callback=x$(this.elements.set).attr("data-ur-callback")[0];UrGeocode=function(a){return function(){a.setup_callbacks()}}(this);a=document.createElement("script");a.type="text/javascript";a.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=UrGeocode";x$("head").html("bottom",a)}function i(a,b,c){var d=0,f=null,i=null,m=null;switch(a){case "rg-city":i="locality";break;case "rg-street":i="street_number";break;case "rg-zip":i=
"postal_code";break;case "rg-state":i="administrative_area_level_1";break;case "rg-country":i="country"}for(var m=b[0],j=null,o=m.address_components.length,n=0;n<o;n++)for(var q=m.address_components[n].types.length,r=0;r<q;r++)if(j=m.address_components[n].types[r],i==j){switch(j){case "street_number":d=n;f=n+1;break;case "locality":d=n;break;case "postal_code":d=n;break;case "administrative_area_level_1":d=n;break;case "country":d=n}break}if(c==="input")e.elements[a].value=f===null?b[0].address_components[d].long_name:
b[0].address_components[d].long_name+" "+b[0].address_components[f].long_name;else if(c==="select"){a=e.elements[a];b=b[0].address_components[d];d=0;for(c=a.length;d<c;d++)if(a[d].value===b.long_name||a[d].value.toUpperCase()===b.short_name)a.selectedIndex=d}}function c(){}var b,a,e;d.prototype={setup_callbacks:function(){e=this;if(this.elements["rg-button"])x$(this.elements["rg-button"]).on("click",function(a){return function(){a.geocode()}}(this));else console.warn("Ur warning -- no button for triggering reverse geocoding present"),
e.geocode()},geoSuccess:function(a){a={lat:a.coords.latitude,lng:a.coords.longitude};this.codeLatLng(a.lat,a.lng)},geoError:function(a){console.error("Ur geolocation error -- Error Getting Your Coordinates!");switch(a.code){case a.TIMEOUT:console.error("Ur geolocation error -- Timeout");break;case a.POSITION_UNAVAILABLE:console.error("Ur geolocation error -- Position unavailable");break;case a.PERMISSION_DENIED:console.error("Ur geolocation error -- Permission denied");break;case a.UNKNOWN_ERROR:console.error("Ur geolocation error -- Unknown error")}},
geoDenied:function(){console.error("Ur geolocation error -- User Denied Geolocation")},codeLatLng:function(c,d){var k=new google.maps.LatLng(c,d),l=this;b.geocode({latLng:k},function(b,c){if(c==google.maps.GeocoderStatus.OK)if(b[1]){a=b;var g=e.elements;for(elm in g)g[elm].localName==="input"?i(elm,a,"input"):i(elm,a,"select");l.callback!==void 0&&eval(l.callback);return b}else console.error("Geocoder failed due to: "+c)})},geocode:function(){navigator.geolocation&&(b=new google.maps.Geocoder,navigator.geolocation.getCurrentPosition(function(a){return function(b){a.geoSuccess(b)}}(this),
this.geoError,this.geoDenied))}};c.prototype.initialize=function(a){a=x$(a).find_elements("reverse-geocode");Ur.Widgets.geocode={};for(var b in a){Ur.Widgets.geocode[b]=new d(a[b]);break}};return c}();(function(){function d(a){this.components=a}d.prototype.preferences={threshold:300};d.prototype.release_element=function(a){if(a.hasAttribute("data-ur-ll-src"))var b="src",c="data-ur-ll-src",d=a.getAttribute(c);else if(a.hasAttribute("data-ur-ll-href"))b="href",c="data-ur-ll-href",d=a.getAttribute();else return;a.removeAttribute(c);a.setAttribute(b,d)};d.prototype.components={};d.prototype.release_group=function(a){for(var b in a)a[b][1]!="scroll"?d.prototype.release_element(a[b][0]):i(a[b][0])==
!0&&d.prototype.release_element(a[b][0])};var i=function(a){var b=window.innerHeight+window.pageYOffset,c=function(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent)}return[b,curtop]}(a);return b>=c[1]-a.offsetHeight-d.prototype.preferences.threshold},c=function(a){for(var b in a)switch(b){case "scroll":x$(window).on(b,function(){d.prototype.release_group(a.scroll,"scroll")});break;case "load":x$(window).on(b,function(){d.prototype.release_group(a.load)});
break;case "DOMContentLoaded":d.prototype.release_group(a.DOMContentLoaded);break;case "click":case "touch":x$("html").on(b,function(a){var b=a.target.getAttribute("data-ur-ll-event");(b=="click"||b=="touch")&&d.prototype.release_element(a.target)})}},b=function(){var a={},b=[],c;x$(document).find("[data-ur-ll-href],[data-ur-ll-src]").each(function(){c=this.getAttribute("data-ur-ll-event");c===null&&(c="DOMContentLoaded");a[c]=[];b.push([this,c])});for(var d in b)b[d][1]!==void 0&&a[b[d][1]].push(b[d]);
return a};d.prototype.initialize=function(){var a=b(),a=new d(a);c(a.components);Ur.Widgets.late_load=a};return Ur.QuickLoaders.late_load=d})();Ur.QuickLoaders.map=function(){function d(a,b){this.threshold=a;this.count=0;this.callbacks=[];b!==void 0&&this.callbacks.push(b)}function i(a){this.elements=a;this.fetch_map()}function c(){}d.prototype.finish=function(){this.count+=1;if(this.count==this.threshold)for(var a=this.callbacks.pop();a;)a(),a=this.callbacks.pop()};i.prototype={marker_clicked:function(a,b){x$().iterate(this.elements.descriptions,function(a,c){c==b?x$(a).attr("data-ur-state","enabled"):x$(a).attr("data-ur-state","disabled")})},
fetch_coordinates:function(){this.coordinates=[];this.center=[0,0];this.lat_range={};this.lng_range={};var a=new google.maps.Geocoder,b=this,c=new d(this.elements.addresses.length,function(a){return function(){a.setup_map()}}(this));x$(this.elements.addresses).each(function(d,i){var d=d.innerText,l=d.match(/(\S.*\S)[$\s]/m)[1];l==void 0&&(l=d);a.geocode({address:l},function(a,l){var m=null;if(l===google.maps.GeocoderStatus.OK){m=a[0].geometry.location;b.coordinates[i]=m;b.center[0]+=m.lat();b.center[1]+=
m.lng();var m=a[0].geometry.viewport.getNorthEast(),j=a[0].geometry.viewport.getSouthWest();if(b.lat_range.min&&b.lat_range.min>j.lat()||b.lat_range.min===void 0)b.lat_range.min=j.lat();if(b.lat_range.max&&b.lat_range.max<j.lat()||b.lat_range.max===void 0)b.lat_range.max=m.lat();if(b.lng_range.min&&b.lng_range.min>j.lng()||b.lng_range.min===void 0)b.lng_range.min=j.lng();if(b.lng_range.max&&b.lng_range.max<j.lng()||b.lng_range.max===void 0)b.lng_range.max=m.lng();c.finish()}else console.error("Error geocoding address: "+
d)})})},add_coordinates:function(){var a=this,b=x$(this.elements.icon).attr("data-ur-url")[0],c=x$(this.elements.icon).attr("data-ur-width")[0],d=x$(this.elements.icon).attr("data-ur-height")[0],i=null;c!==void 0&&d!==void 0&&(i=new google.maps.Size(parseInt(c),parseInt(d)));x$().iterate(a.coordinates,function(c,d){var g=null;b!==void 0&&(g=new google.maps.MarkerImage(b,null,null,null,i));g=new google.maps.Marker({position:c,map:a.map,icon:g});google.maps.event.addListener(g,"click",function(b){return function(e){a.marker_clicked(e,
b)}}(d))})},setup_user_location:function(){var a=this.elements.user_location;this.user_location_marker=null;if(a!==void 0){var b=this;x$(a).on("click",function(){b.toggle_user_location()});x$(a).attr("data-ur-state")[0]==="enabled"&&this.fetch_user_location()}},fetch_user_location:function(){var a=function(a){return function(b){a.add_user_location(b)}}(this);navigator.geolocation?navigator.geolocation.getCurrentPosition(a,function(){console.error("Ur : Error getting user location")}):console.error("Ur : Geolocation services not available")},
add_user_location:function(a){a=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);this.user_location_marker=new google.maps.Marker({position:a,map:this.map,icon:"//s3.amazonaws.com/moovweb-live-resources/map/dot-blue.png"});x$(this.elements.user_location).attr("data-ur-state","enabled")},toggle_user_location:function(){this.user_location_marker===null||this.user_location_marker===void 0?this.fetch_user_location():(this.user_location_marker.setMap(null),delete this.user_location_marker,
x$(this.elements.user_location).attr("data-ur-state","disabled"))},fetch_map:function(){var a=document.createElement("script");setup_uranium_map=function(a){return function(){a.fetch_coordinates()}}(this);a.src="http://maps.googleapis.com/maps/api/js?sensor=true&callback=setup_uranium_map";this.elements.set.appendChild(a)},setup_map:function(){this.center[0]/=this.elements.addresses.length;this.center[1]/=this.elements.addresses.length;var a={center:new google.maps.LatLng(this.center[0],this.center[1]),
mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.elements.canvas,a);var a=new google.maps.LatLng(this.lat_range.min,this.lng_range.min),b=new google.maps.LatLng(this.lat_range.max,this.lng_range.max);this.map.fitBounds(new google.maps.LatLngBounds(a,b));this.add_coordinates();this.setup_user_location()}};var b={address:function(a,b){a.addresses===void 0&&(a.addresses=[]);a.addresses.push(b)},description:function(a,b){a.descriptions===void 0&&(a.descriptions=[]);a.descriptions.push(b)}};
c.prototype.initialize=function(a){a=x$(a).find_elements("map",b);Ur.Widgets.map={};for(var e in a){Ur.Widgets.map[e]=new i(a[e]);break}};return c}();Ur.QuickLoaders["select-buttons"]=function(){function d(c){this.select=c.select;this.increment=c.increment;this.decrement=c.decrement;this.initialize()}function i(){}d.prototype.initialize=function(){x$(this.increment).click(function(c){return function(b){c.trigger_option(b,1)}}(this));x$(this.decrement).click(function(c){return function(b){c.trigger_option(b,-1)}}(this))};d.prototype.trigger_option=function(c,b){if(x$(c.currentTarget).attr("data-ur-state")[0]==="disabled")return!1;var a={},e=this.select.value,
d={prev:null,next:null};x$().iterate(this.select.children,function(b,c){x$(b).attr("value")[0]==e&&(a={element:b,index:c});typeof a.index=="undefined"&&(d.prev=x$(b).attr("value")[0]);c==a.index+1&&(d.next=x$(b).attr("value")[0])});var h=this.select.children.length,i=a.index+b;i==0?x$(this.decrement).attr("data-ur-state","disabled"):x$(this.decrement).attr("data-ur-state","enabled");i==h-1?x$(this.increment).attr("data-ur-state","disabled"):x$(this.increment).attr("data-ur-state","enabled");if(i<
0||i==h)return!1;this.select.value=d[b==1?"next":"prev"];return!0};i.prototype.initialize=function(c){var c=x$(c).find_elements("select-buttons"),b;for(b in c)new d(c[b]),x$(c[b].set).attr("data-ur-state","enabled")};return i}();Ur.QuickLoaders["select-list"]=function(){function d(b,a){this.select=b;this.list=a;this.initialize()}function i(b,a){var e="";x$().iterate(b.list.children,function(b){var c=b.getAttribute("value"),d=a.getAttribute("value");c==d?(x$(b).attr("data-ur-state","enabled"),e=x$(b).attr("value")):x$(b).attr("data-ur-state","disabled")});return e}function c(){this.SelectLists={}}d.prototype.initialize=function(){x$(this.list).click(function(b){return function(a){b.trigger_option(a)}}(this))};d.prototype.trigger_option=
function(b){this.select.value=i(this,b.target);return!0};c.prototype.initialize=function(b){var b=x$(b).find_elements("select-list"),a;for(a in b){var e=b[a];this.SelectLists[a]=new d(b[a].select,b[a].content);x$(e.set).attr("data-ur-state","enabled");e=this.SelectLists[a];i(e,e.select.children[e.select.options.selectedIndex])}};return c}();Ur.QuickLoaders.SwipeToggle=function(){function d(c){var b=this,a={},e=this.preferences={dots:!1,axis:"x",swipeUpdate:!0,sensitivity:10,loop:!0,touchbuffer:20,tapActive:!1,touch:!0,jump:1,loop:!0,autoSpeed:500},g=this.flags={touched:!1,autoID:null},h=endPos=markerPos={x:0,y:0,time:0},i=function(a){var b=document.createEvent("Event");b.initEvent("loaded",!1,!0);a.dispatchEvent(b)},l=function(){var e=b.preferences.touch;p.addEventListener("touchstart",function(b){e==!0&&a.start(b,this)},!1);p.addEventListener("touchmove",
function(b){e==!0&&a.move(b,this)},!1);p.addEventListener("touchend",function(b){e==!0&&a.end(b,this)},!1)};d.prototype.getActive=function(){return x$('[data-ur-id="'+this.components.name+'"][data-ur-swipe-toggle-component="slider"] > [data-ur-state="active"]')[0]};d.prototype.next=function(){for(var a=this.getActive(),b=this.preferences.jump,e=a.parentNode.children,c=0;c<b;c++)(a.nextElementSibling===null?!1:!0)==!0?a=this.setActive(a.nextElementSibling):(a.nextElementSibling===null?!1:!0)==!1&&
this.preferences.loop==!0&&this.setActive(e[0]);return a};d.prototype.prev=function(){for(var a=this.getActive(),b=this.preferences.jump,e=a.parentNode.children,c=e.length-1,d=0;d<b;d++)(a.previousElementSibling===null?!1:!0)==!0?a=this.setActive(a.previousElementSibling):(a.previousElementSibling===null?!1:!0)==!1&&this.preferences.loop==!0&&this.setActive(e[c]);return a};a={start:function(a){g.touched=!0;markerPos=h={x:a.touches[0].clientX,y:a.touches[0].clientY,time:a.timeStamp}},move:function(a){endPos=
{x:a.touches[0].clientX,y:a.touches[0].clientY};b.preferences.swipeUpdate==!0&&(endPos[m]+b.preferences.sensitivity<markerPos[m]&&(b.next(),markerPos=endPos,a.stopPropagation(),a.preventDefault()),endPos[m]-b.preferences.sensitivity>markerPos[m]&&(b.prev(),markerPos=endPos,a.stopPropagation(),a.preventDefault()))}};a.end=function(c){endPos.time=c.timeStamp;var d;d=e?e.touchbuffer:0;d=h[m]<endPos[m]-d?1:h[m]>endPos[m]+d?2:3;c=c.target;d==1?b.prev():d==2?b.next():c.parentNode==p&&b.setActive(c);a.clear()};
a.clear=function(){h={};endPos={};markerPos={}};var f=function(a){var a=a===void 0?b.components.slider:a,e=a.children.length,c=0;if(e>c)for(;c<e;c++)if(a.children[c].getAttribute("data-ur-state")=="active")break;return c};d.prototype.autoScroll=function(a){var b=this.components.slider.children.length,e=this;window.clearInterval(this.flags.autoID);a=="next"||a=="prev"||(console.log("swipe_toggle: impropper autoScroll direction setting"),a="next");this.flags.autoID=window.setInterval(function(){var c=
f();if(e.preferences.loop==!1&&c+1==b||g.touched==!0)window.clearInterval(e.flags.autoID);else e[a]()},this.preferences.autoSpeed)};d.prototype.dots=function(){var a=f(this.components.slider),b=this.components.name,e=this.components.slider,c=x$(e)[0].children.length-1,d=document.createElement("div");d.setAttribute("class","mw_"+b+"_dots mw_swipe_dots");for(b=0;b<c+1;b++)tempDivHolder=document.createElement("div"),tempDivHolder.id="mw_image_dot"+(b+1),d.appendChild(tempDivHolder);d.children[0]!==void 0&&
d.children[a].setAttribute("mw_swipe_toggle_dot","active");x$(e).after(d);e.addEventListener("update",function(a){for(var a=f(a.slider),b=0;b<c+1;b++)d.children[b].setAttribute("mw_swipe_toggle_dot","");d.children[a].setAttribute("mw_swipe_toggle_dot","active")})};d.prototype.autoPopulate=function(a,b){var e=this.components.slider;if(a===void 0)console.warn("Swipe Toggle: no items listed");else if(b=="top"||b=="bottom"){for(var c in a)x$(e)[b](a[c]);this.setActive(this.components.slider.children[0])}};
if(c!==void 0){this.components=c;var p=this.components.slider;x$(c.next).on("click",function(a){Ur.Widgets.SwipeToggle[b.components.name].next(a)});x$(c.prev).on("click",function(a){Ur.Widgets.SwipeToggle[b.components.name].prev(a)});this.components.slider.children[0]!==void 0&&this.setActive(this.getActive());var m=this.preferences.axis;m=="x"||m=="Y"||console.log("incorrect axis set");l();this.preferences.dots==!0&&this.dots();i(this.components.slider)}}d.prototype.components={};d.prototype.setActive=
function(c){var b,a=c.parentNode,e=a.children.length,d=c.previousElementSibling,h=c.nextElementSibling;if(c.nodeType==1&&a==a){c.setAttribute("data-ur-state","active");for(b=0;b<=e;b++)if(d===null||d===void 0)break;else d.setAttribute("data-ur-state","prev"+(b+1)),d=d.previousElementSibling;for(b=0;b<=e;b++)if(h===null||h===void 0)break;else h.setAttribute("data-ur-state","next"+(b+1)),h=h.nextElementSibling}(function(a,b){var e=document.createEvent("Event");e.initEvent("update",!1,!0);e.active=a;
e.slider=a.parentNode;e.activeElement=a;b.dispatchEvent(e)})(c,a);return c};var i=function(c){var c=x$(c).find_elements("swipe-toggle"),b;for(b in c){var a=c[b];a.name=b;if(a.slider===void 0)console.log("Uranium Declaration Error: No slider found for toggler with id = "+b);else if(a.slider.children[0]===void 0)console.log("no children in slider: "+a);else if(a.slider.active=x$(a.slider).find("[data-ur-state='active']")[0],console.log("Uranium Declaration Warning: No active element found for toggler with id = "+
b),a.slider.active===void 0)console.log("no active element in slider: "+b),a.slider.active=a.slider.children[0],a.slider.active.setAttribute("data-ur-state","active"),console.log("set active element")}return c};d.prototype.initialize=function(c){c=i(c);Ur.Widgets.SwipeToggle={};var b=function(a){var b=document.createEvent("Event");b.initEvent("preferences",!1,!0);a.components.slider.dispatchEvent(b)},a;for(a in c)Ur.Widgets.SwipeToggle[a]=new d(c[a]),b(Ur.Widgets.SwipeToggle[a]);return c};return new d};Ur.QuickLoaders["flex-table"]=function(){function d(c,b){var a=this.options={idprefix:"col-",persist:"persist",checkContainer:null},e=c.table,d=c.body,h=x$(c.head).find("th"),i=x$(d).find("tr"),l=a.checkContainer?x$(a.checkContainer):x$('<div class="table-menu table-menu-hidden" ><ul /></div>');x$(e).addClass("enhanced");h.each(function(e,c){var d=x$(this),f=d.attr("id"),g=d.attr("class");f.length===0&&(f=(a.idprefix?a.idprefix:"col-")+c,d.attr("id",f));i.each(function(a){x$(a).find("th, td").each(function(a){a.cellIndex==
c&&(x$(a).attr("headers",f),g.length!==0&&x$(a).addClass(g[0]))})});if(!d.hasClass(a.persist)){var h=x$('<li><input type="checkbox" name="toggle-cols" id="toggle-col-'+c+"-"+b+'" value="'+f+'" /> <label for="toggle-col-'+c+"-"+b+'">'+d.html()+"</label></li>");l.find("ul").bottom(h);h=h.find("input");h.on("change",function(){var a=x$(this).attr("value"),a=x$("div[data-ur-id='"+b+"'] #"+a[0]+", div[data-ur-id='"+b+"'] [headers="+a[0]+"]");this.checked?(a.removeClass("ur_ft_hide"),a.addClass("ur_ft_show")):
(a.addClass("ur_ft_hide"),a.removeClass("ur_ft_show"))});h.on("updateCheck",function(){d.getStyle("display")=="table-cell"||d.getStyle("display")=="inline"?x$(this).attr("checked",!0):x$(this).attr("checked",!1)});h.fire("updateCheck")}});x$(window).on("orientationchange",function(){l.find("input").fire("updateCheck")});x$(window).on("resize",function(){l.find("input").fire("updateCheck")});if(!a.checkContainer){var d=x$('<div class="table-menu-wrapper"></div>'),h=x$('<div class = "table-background-element"></div>'),
f=x$('<a href="#" class="table-menu-btn" ><span class="table-menu-btn-icon"></span>Display</a>');f.click(function(){l.toggleClass("table-menu-hidden");x$(this).toggleClass("menu-btn-show");return!1});h.click(function(){l.toggleClass("table-menu-hidden");f.toggleClass("menu-btn-show");return!1});l.bottom(h);d.bottom(f).bottom(l);x$(e).before(d)}}function i(){}i.prototype.initialize=function(c){c=x$(c).find_elements("flex-table");Ur.Widgets["flex-table"]={};for(var b in c)Ur.Widgets["flex-table"][name]=
new d(c[b],b)};return i}();Ur.QuickLoaders.tabs=function(){function d(b){this.elements=b;this.setup_callbacks()}function i(){}d.prototype.setup_callbacks=function(){var b=null,a;for(a in this.elements.buttons){var e=this.elements.buttons[a],c=this.elements.contents[a];b===null&&(b=a);if(c===void 0){console.log("Ur error -- no matching tab content for tab button");break}c=x$(e).attr("data-ur-state")[0];c!==void 0&&c=="enabled"&&(b=-1);var d=x$(this.elements.set).attr("data-ur-closeable")[0],d=d!==void 0&&d=="true"?!0:!1;console.log("closeable? "+
d);var i=this;x$(e).on("click",function(a){var b=a.target.offsetTop-document.body.scrollTop,e=x$(a.currentTarget).attr("data-ur-tab-id")[0],c;for(c in i.elements.buttons){var g=i.elements.buttons[c],o=i.elements.contents[c];if(c!==e)x$(g).attr("data-ur-state","disabled"),x$(o).attr("data-ur-state","disabled");else{var n="enabled";d&&(n=x$(g).attr("data-ur-state")[0],n=n===void 0?"disabled":n,n=n=="enabled"?"disabled":"enabled");x$(g).attr("data-ur-state",n);x$(o).attr("data-ur-state",n)}}a=a.target.offsetTop-
document.body.scrollTop;a<=0&&window.scrollBy(0,a-b)})}};var c={button:function(b,a){b.buttons===void 0&&(b.buttons={});var e=x$(a).attr("data-ur-tab-id")[0];e===void 0?console.log("Uranium declaration error -- Tab defined without a tab-id"):b.buttons[e]=a},content:function(b,a){b.contents===void 0&&(b.contents={});var e=x$(a).attr("data-ur-tab-id")[0];e===void 0?console.log("Uranium declaration error -- Tab defined without a tab-id"):b.contents[e]=a}};i.prototype.initialize=function(b){b=x$(b).find_elements("tabs",
c);Ur.Widgets.tabs={};for(var a in b)Ur.Widgets.tabs[a]=new d(b[a])};return i}();Ur.QuickLoaders.toggler=function(){function d(c,b){c.content===void 0&&(c.content=[]);c.content.push(b)}function i(){this.component_constructors={content:d}}i.prototype.find=function(c){var c=x$(c).find_elements("toggler",this.component_constructors),b;for(b in c){var a=c[b];if(a.button===void 0)console.log("Uranium Declaration Error: No button found for toggler with id="+b);else{var e=x$(a.button).attr("data-ur-state")[0];e===void 0&&(x$(a.button).attr("data-ur-state","disabled"),e="disabled");a.content===
void 0?console.log("Uranium Declaration Error: No content found for toggler with id="+b):x$().iterate(a.content,function(a){x$(a).attr("data-ur-state")[0]===void 0&&x$(a).attr("data-ur-state",e)})}}return c};i.prototype.construct_button_callback=function(c,b){return function(a){var a=a.currentTarget,e=x$(a).attr("data-ur-state")[0]==="enabled"?"disabled":"enabled";x$(a).attr("data-ur-state",e);x$(b).attr("data-ur-state",e);x$().iterate(c,function(a){var b=x$(a).attr("data-ur-state")[0]==="enabled"?
"disabled":"enabled";x$(a).attr("data-ur-state",b)})}};i.prototype.initialize=function(c){c=this.find(c);console.log(c);for(var b in c){var a=c[b];x$(a.button).click(this.construct_button_callback(a.content,a.set));x$(a.set).attr("data-ur-state","enabled")}};return i}();Ur.QuickLoaders["zoom-preview"]=function(){function d(b){this.elements=b.elements;this.modifier={};if(b.modifier!==null)this.modifier=b.modifier;this.dimensions={};this.zoom=!1;this.update();this.events={start:"touchstart",move:"touchmove",end:"touchend"};this.touch=xui.touch;if(!this.touch)this.events={move:"mousemove",end:"mouseout"};this.initialize();console.log("Zoom Preview Loaded")}function i(){}d.prototype.rewrite_images=function(b,a,e){if(typeof b=="undefined")return!1;if(a===void 0&&e===
void 0)a=this.modifier.zoom_image.match,e=this.modifier.zoom_image.replace;this.elements.zoom_image.src=b.replace(a,e);a=e=null;if(this.modifier.button)a=this.modifier.button.match,e=this.modifier.button.replace;this.elements.button.src=a&&e?this.elements.zoom_image.src.replace(a,e):this.elements.zoom_image.src;var c=this;this.elements.zoom_image.style.visibility="hidden";x$(this.elements.zoom_image).on("load",function(){c.update()});x$(this.elements.button).on("load",function(){x$(c.elements.button).addClass("loaded")})};
d.prototype.update=function(){var b=this;x$().iterate(["button","zoom_image","container"],function(a){b.dimensions[a]=[b.elements[a].offsetWidth,b.elements[a].offsetHeight]});var a=x$(this.elements.button).offset(),a=[a.left,a.top];this.button_center=[this.dimensions.button[0]/2+a[0],this.dimensions.button[1]/2+a[1]];this.image_origin=[-0.5*this.dimensions.zoom_image[0],-0.5*this.dimensions.zoom_image[1]]};d.prototype.get_event_coordinates=function(b){if(this.touch){if(b.touches.length==1)return[b.touches[0].pageX,
b.touches[0].pageY]}else return[b.pageX,b.pageY]};d.prototype.initialize=function(){x$(this.elements.button).on(this.events.move,function(b){return function(a){b.scroll_zoom(a)}}(this));x$(this.elements.button).on(this.events.end,function(b){return function(a){b.scroll_end(a)}}(this));if(this.events.start)x$(this.elements.button).on("touchstart",function(){return function(b){b.preventDefault()}}(this));x$(this.elements.thumbnails).click(function(b){return function(a){if(a.target.tagName!="IMG")return!1;
b.rewrite_images(a.target.src)}}(this));this.normal_image_changed()};d.prototype.normal_image_changed=function(b){b!==void 0&&(this.elements.normal_image=b);img=x$(this.elements.normal_image);this.rewrite_images(img.attr("src")[0],this.modifier.normal_image.match,this.modifier.normal_image.replace)};d.prototype.scroll_end=function(){this.elements.zoom_image.style.visibility="hidden"};d.prototype.scroll_zoom=function(b){this.elements.zoom_image.style.visibility="visible";b=this.get_event_coordinates(b);
if(b===null)return!1;b=[(b[0]-this.button_center[0])/this.dimensions.button[0],(b[1]-this.button_center[1])/this.dimensions.button[1]];b=[this.dimensions.zoom_image[0]*b[0],this.dimensions.zoom_image[1]*b[1]];b=[this.image_origin[0]-b[0],this.image_origin[1]-b[1]];b=this.check_bounds(b);this.elements.zoom_image.style.webkitTransform="translate3d("+b[0]+"px,"+b[1]+"px,0px)"};d.prototype.check_bounds=function(b){var a=[this.dimensions.container[0]-this.dimensions.zoom_image[0],this.dimensions.container[1]-
this.dimensions.zoom_image[1]];x$().iterate([0,1],function(c){b[c]>=0&&(b[c]=0);b[c]<=a[c]&&(b[c]=a[c])});return b};var c={_modifiers:function(b,a,c,d){b.modifier===void 0&&(b.modifier={});var h=d===void 0?"src":"zoom";console.log("searching for modifier:",h,a);d=x$(a).attr("data-ur-"+h+"-modifier-match")[0];a=x$(a).attr("data-ur-"+h+"-modifier-replace")[0];typeof d!="undefined"&&typeof a!="undefined"&&(console.log("found modifiers:",d,a),b.modifier[c]={match:RegExp(d),replace:a})},_construct:function(b,
a,c,d){b.elements===void 0&&(b.elements={});b.elements[c]=a;this._modifiers(b,a,c,d)},normal_image:function(b,a,c){this._construct(b,a,c,"zoom")},zoom_image:function(b,a,c){this._construct(b,a,c)},button:function(b,a,c){this._construct(b,a,c)},container:function(b,a,c){this._construct(b,a,c)},thumbnails:function(b,a,c){this._construct(b,a,c)}};i.prototype.initialize=function(b){this.zoom_previews=x$(b).find_elements("zoom-preview",c);Ur.Widgets["zoom-preview"]={};for(var a in this.zoom_previews)Ur.Widgets["zoom-preview"][a]=
new d(this.zoom_previews[a]),x$(this.zoom_previews[a].set).attr("data-ur-state","enabled")};return i}();
